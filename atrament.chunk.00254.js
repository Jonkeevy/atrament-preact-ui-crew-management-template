(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{Cj6n:function(e,t,n){(function(n){function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}var o;!function(){"use strict";var r=function(){this.init()};r.prototype={init:function(){var e=this||i;return e._counter=1e3,e._html5AudioPool=[],e.html5PoolSize=10,e._codecs={},e._howls=[],e._muted=!1,e._volume=1,e._canPlayEvent="canplaythrough",e._navigator="undefined"!=typeof window&&window.navigator?window.navigator:null,e.masterGain=null,e.noAudio=!1,e.usingWebAudio=!0,e.autoSuspend=!0,e.ctx=null,e.autoUnlock=!0,e._setup(),e},volume:function(e){var t=this||i;if(e=parseFloat(e),t.ctx||p(),void 0!==e&&e>=0&&e<=1){if(t._volume=e,t._muted)return t;t.usingWebAudio&&t.masterGain.gain.setValueAtTime(e,i.ctx.currentTime);for(var n=0;n<t._howls.length;n++)if(!t._howls[n]._webAudio)for(var r=t._howls[n]._getSoundIds(),o=0;o<r.length;o++){var a=t._howls[n]._soundById(r[o]);a&&a._node&&(a._node.volume=a._volume*e)}return t}return t._volume},mute:function(e){var t=this||i;t.ctx||p(),t._muted=e,t.usingWebAudio&&t.masterGain.gain.setValueAtTime(e?0:t._volume,i.ctx.currentTime);for(var n=0;n<t._howls.length;n++)if(!t._howls[n]._webAudio)for(var r=t._howls[n]._getSoundIds(),o=0;o<r.length;o++){var a=t._howls[n]._soundById(r[o]);a&&a._node&&(a._node.muted=!!e||a._muted)}return t},stop:function(){for(var e=this||i,t=0;t<e._howls.length;t++)e._howls[t].stop();return e},unload:function(){for(var e=this||i,t=e._howls.length-1;t>=0;t--)e._howls[t].unload();return e.usingWebAudio&&e.ctx&&void 0!==e.ctx.close&&(e.ctx.close(),e.ctx=null,p()),e},codecs:function(e){return(this||i)._codecs[e.replace(/^x-/,"")]},_setup:function(){var e=this||i;if(e.state=e.ctx&&e.ctx.state||"suspended",e._autoSuspend(),!e.usingWebAudio)if("undefined"!=typeof Audio)try{void 0===(new Audio).oncanplaythrough&&(e._canPlayEvent="canplay")}catch(t){e.noAudio=!0}else e.noAudio=!0;try{(new Audio).muted&&(e.noAudio=!0)}catch(e){}return e.noAudio||e._setupCodecs(),e},_setupCodecs:function(){var e=this||i,t=null;try{t="undefined"!=typeof Audio?new Audio:null}catch(t){return e}if(!t||"function"!=typeof t.canPlayType)return e;var n=t.canPlayType("audio/mpeg;").replace(/^no$/,""),r=e._navigator?e._navigator.userAgent:"",o=r.match(/OPR\/(\d+)/g),a=o&&parseInt(o[0].split("/")[1],10)<33,u=-1!==r.indexOf("Safari")&&-1===r.indexOf("Chrome"),c=r.match(/Version\/(.*?) /),s=u&&c&&parseInt(c[1],10)<15;return e._codecs={mp3:!(a||!n&&!t.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!n,opus:!!t.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(t.canPlayType('audio/wav; codecs="1"')||t.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!t.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!t.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(t.canPlayType("audio/x-m4a;")||t.canPlayType("audio/m4a;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(t.canPlayType("audio/x-m4b;")||t.canPlayType("audio/m4b;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(t.canPlayType("audio/x-mp4;")||t.canPlayType("audio/mp4;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!(s||!t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!(s||!t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!t.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(t.canPlayType("audio/x-flac;")||t.canPlayType("audio/flac;")).replace(/^no$/,"")},e},_unlockAudio:function(){var e=this||i;if(!e._audioUnlocked&&e.ctx){e._audioUnlocked=!1,e.autoUnlock=!1,e._mobileUnloaded||44100===e.ctx.sampleRate||(e._mobileUnloaded=!0,e.unload()),e._scratchBuffer=e.ctx.createBuffer(1,1,22050);var t=function t(){for(;e._html5AudioPool.length<e.html5PoolSize;)try{var n=new Audio;n._unlocked=!0,e._releaseHtml5Audio(n)}catch(t){e.noAudio=!0;break}for(var r=0;r<e._howls.length;r++)if(!e._howls[r]._webAudio)for(var o=e._howls[r]._getSoundIds(),i=0;i<o.length;i++){var a=e._howls[r]._soundById(o[i]);a&&a._node&&!a._node._unlocked&&(a._node._unlocked=!0,a._node.load())}e._autoResume();var u=e.ctx.createBufferSource();u.buffer=e._scratchBuffer,u.connect(e.ctx.destination),void 0===u.start?u.noteOn(0):u.start(0),"function"==typeof e.ctx.resume&&e.ctx.resume(),u.onended=function(){u.disconnect(0),e._audioUnlocked=!0,document.removeEventListener("touchstart",t,!0),document.removeEventListener("touchend",t,!0),document.removeEventListener("click",t,!0),document.removeEventListener("keydown",t,!0);for(var n=0;n<e._howls.length;n++)e._howls[n]._emit("unlock")}};return document.addEventListener("touchstart",t,!0),document.addEventListener("touchend",t,!0),document.addEventListener("click",t,!0),document.addEventListener("keydown",t,!0),e}},_obtainHtml5Audio:function(){var e=this||i;if(e._html5AudioPool.length)return e._html5AudioPool.pop();var t=(new Audio).play();return t&&"undefined"!=typeof Promise&&(t instanceof Promise||"function"==typeof t.then)&&t.catch((function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")})),new Audio},_releaseHtml5Audio:function(e){var t=this||i;return e._unlocked&&t._html5AudioPool.push(e),t},_autoSuspend:function(){var e=this;if(e.autoSuspend&&e.ctx&&void 0!==e.ctx.suspend&&i.usingWebAudio){for(var t=0;t<e._howls.length;t++)if(e._howls[t]._webAudio)for(var n=0;n<e._howls[t]._sounds.length;n++)if(!e._howls[t]._sounds[n]._paused)return e;return e._suspendTimer&&clearTimeout(e._suspendTimer),e._suspendTimer=setTimeout((function(){if(e.autoSuspend){e._suspendTimer=null,e.state="suspending";var t=function(){e.state="suspended",e._resumeAfterSuspend&&(delete e._resumeAfterSuspend,e._autoResume())};e.ctx.suspend().then(t,t)}}),3e4),e}},_autoResume:function(){var e=this;if(e.ctx&&void 0!==e.ctx.resume&&i.usingWebAudio)return"running"===e.state&&"interrupted"!==e.ctx.state&&e._suspendTimer?(clearTimeout(e._suspendTimer),e._suspendTimer=null):"suspended"===e.state||"running"===e.state&&"interrupted"===e.ctx.state?(e.ctx.resume().then((function(){e.state="running";for(var t=0;t<e._howls.length;t++)e._howls[t]._emit("resume")})),e._suspendTimer&&(clearTimeout(e._suspendTimer),e._suspendTimer=null)):"suspending"===e.state&&(e._resumeAfterSuspend=!0),e}};var i=new r,a=function(e){e.src&&0!==e.src.length?this.init(e):console.error("An array of source files must be passed with any new Howl.")};a.prototype={init:function(e){var t=this;return i.ctx||p(),t._autoplay=e.autoplay||!1,t._format="string"!=typeof e.format?e.format:[e.format],t._html5=e.html5||!1,t._muted=e.mute||!1,t._loop=e.loop||!1,t._pool=e.pool||5,t._preload="boolean"!=typeof e.preload&&"metadata"!==e.preload||e.preload,t._rate=e.rate||1,t._sprite=e.sprite||{},t._src="string"!=typeof e.src?e.src:[e.src],t._volume=void 0!==e.volume?e.volume:1,t._xhr={method:e.xhr&&e.xhr.method?e.xhr.method:"GET",headers:e.xhr&&e.xhr.headers?e.xhr.headers:null,withCredentials:!(!e.xhr||!e.xhr.withCredentials)&&e.xhr.withCredentials},t._duration=0,t._state="unloaded",t._sounds=[],t._endTimers={},t._queue=[],t._playLock=!1,t._onend=e.onend?[{fn:e.onend}]:[],t._onfade=e.onfade?[{fn:e.onfade}]:[],t._onload=e.onload?[{fn:e.onload}]:[],t._onloaderror=e.onloaderror?[{fn:e.onloaderror}]:[],t._onplayerror=e.onplayerror?[{fn:e.onplayerror}]:[],t._onpause=e.onpause?[{fn:e.onpause}]:[],t._onplay=e.onplay?[{fn:e.onplay}]:[],t._onstop=e.onstop?[{fn:e.onstop}]:[],t._onmute=e.onmute?[{fn:e.onmute}]:[],t._onvolume=e.onvolume?[{fn:e.onvolume}]:[],t._onrate=e.onrate?[{fn:e.onrate}]:[],t._onseek=e.onseek?[{fn:e.onseek}]:[],t._onunlock=e.onunlock?[{fn:e.onunlock}]:[],t._onresume=[],t._webAudio=i.usingWebAudio&&!t._html5,void 0!==i.ctx&&i.ctx&&i.autoUnlock&&i._unlockAudio(),i._howls.push(t),t._autoplay&&t._queue.push({event:"play",action:function(){t.play()}}),t._preload&&"none"!==t._preload&&t.load(),t},load:function(){var e=this,t=null;if(i.noAudio)e._emit("loaderror",null,"No audio support.");else{"string"==typeof e._src&&(e._src=[e._src]);for(var n=0;n<e._src.length;n++){var r,o;if(e._format&&e._format[n])r=e._format[n];else{if("string"!=typeof(o=e._src[n])){e._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}(r=/^data:audio\/([^;,]+);/i.exec(o))||(r=/\.([^.]+)$/.exec(o.split("?",1)[0])),r&&(r=r[1].toLowerCase())}if(r||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),r&&i.codecs(r)){t=e._src[n];break}}if(t)return e._src=t,e._state="loading","https:"===window.location.protocol&&"http:"===t.slice(0,5)&&(e._html5=!0,e._webAudio=!1),new u(e),e._webAudio&&s(e),e;e._emit("loaderror",null,"No codec support for selected audio sources.")}},play:function(e,t){var n=this,r=null;if("number"==typeof e)r=e,e=null;else{if("string"==typeof e&&"loaded"===n._state&&!n._sprite[e])return null;if(void 0===e&&(e="__default",!n._playLock)){for(var o=0,a=0;a<n._sounds.length;a++)n._sounds[a]._paused&&!n._sounds[a]._ended&&(o++,r=n._sounds[a]._id);1===o?e=null:r=null}}var u=r?n._soundById(r):n._inactiveSound();if(!u)return null;if(r&&!e&&(e=u._sprite||"__default"),"loaded"!==n._state){u._sprite=e,u._ended=!1;var c=u._id;return n._queue.push({event:"play",action:function(){n.play(c)}}),c}if(r&&!u._paused)return t||n._loadQueue("play"),u._id;n._webAudio&&i._autoResume();var s=Math.max(0,u._seek>0?u._seek:n._sprite[e][0]/1e3),f=Math.max(0,(n._sprite[e][0]+n._sprite[e][1])/1e3-s),l=1e3*f/Math.abs(u._rate),d=n._sprite[e][0]/1e3,p=(n._sprite[e][0]+n._sprite[e][1])/1e3;u._sprite=e,u._ended=!1;var _=function(){u._paused=!1,u._seek=s,u._start=d,u._stop=p,u._loop=!(!u._loop&&!n._sprite[e][2])};if(!(s>=p)){var v=u._node;if(n._webAudio){var y=function(){n._playLock=!1,_(),n._refreshBuffer(u),v.gain.setValueAtTime(u._muted||n._muted?0:u._volume,i.ctx.currentTime),u._playStart=i.ctx.currentTime,void 0===v.bufferSource.start?v.bufferSource.noteGrainOn(0,s,u._loop?86400:f):v.bufferSource.start(0,s,u._loop?86400:f),l!==1/0&&(n._endTimers[u._id]=setTimeout(n._ended.bind(n,u),l)),t||setTimeout((function(){n._emit("play",u._id),n._loadQueue()}),0)};"running"===i.state&&"interrupted"!==i.ctx.state?y():(n._playLock=!0,n.once("resume",y),n._clearTimer(u._id))}else{var m=function(){v.currentTime=s,v.muted=u._muted||n._muted||i._muted||v.muted,v.volume=u._volume*i.volume(),v.playbackRate=u._rate;try{var r=v.play();if(r&&"undefined"!=typeof Promise&&(r instanceof Promise||"function"==typeof r.then)?(n._playLock=!0,_(),r.then((function(){n._playLock=!1,v._unlocked=!0,t?n._loadQueue():n._emit("play",u._id)})).catch((function(){n._playLock=!1,n._emit("playerror",u._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),u._ended=!0,u._paused=!0}))):t||(n._playLock=!1,_(),n._emit("play",u._id)),v.playbackRate=u._rate,v.paused)return void n._emit("playerror",u._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");"__default"!==e||u._loop?n._endTimers[u._id]=setTimeout(n._ended.bind(n,u),l):(n._endTimers[u._id]=function(){n._ended(u),v.removeEventListener("ended",n._endTimers[u._id],!1)},v.addEventListener("ended",n._endTimers[u._id],!1))}catch(e){n._emit("playerror",u._id,e)}};"data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"===v.src&&(v.src=n._src,v.load());var h=window&&window.ejecta||!v.readyState&&i._navigator.isCocoonJS;if(v.readyState>=3||h)m();else{n._playLock=!0,n._state="loading";v.addEventListener(i._canPlayEvent,(function e(){n._state="loaded",m(),v.removeEventListener(i._canPlayEvent,e,!1)}),!1),n._clearTimer(u._id)}}return u._id}n._ended(u)},pause:function(e){var t=this;if("loaded"!==t._state||t._playLock)return t._queue.push({event:"pause",action:function(){t.pause(e)}}),t;for(var n=t._getSoundIds(e),r=0;r<n.length;r++){t._clearTimer(n[r]);var o=t._soundById(n[r]);if(o&&!o._paused&&(o._seek=t.seek(n[r]),o._rateSeek=0,o._paused=!0,t._stopFade(n[r]),o._node))if(t._webAudio){if(!o._node.bufferSource)continue;void 0===o._node.bufferSource.stop?o._node.bufferSource.noteOff(0):o._node.bufferSource.stop(0),t._cleanBuffer(o._node)}else isNaN(o._node.duration)&&o._node.duration!==1/0||o._node.pause();arguments[1]||t._emit("pause",o?o._id:null)}return t},stop:function(e,t){var n=this;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"stop",action:function(){n.stop(e)}}),n;for(var r=n._getSoundIds(e),o=0;o<r.length;o++){n._clearTimer(r[o]);var i=n._soundById(r[o]);i&&(i._seek=i._start||0,i._rateSeek=0,i._paused=!0,i._ended=!0,n._stopFade(r[o]),i._node&&(n._webAudio?i._node.bufferSource&&(void 0===i._node.bufferSource.stop?i._node.bufferSource.noteOff(0):i._node.bufferSource.stop(0),n._cleanBuffer(i._node)):isNaN(i._node.duration)&&i._node.duration!==1/0||(i._node.currentTime=i._start||0,i._node.pause(),i._node.duration===1/0&&n._clearSound(i._node))),t||n._emit("stop",i._id))}return n},mute:function(e,t){var n=this;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"mute",action:function(){n.mute(e,t)}}),n;if(void 0===t){if("boolean"!=typeof e)return n._muted;n._muted=e}for(var r=n._getSoundIds(t),o=0;o<r.length;o++){var a=n._soundById(r[o]);a&&(a._muted=e,a._interval&&n._stopFade(a._id),n._webAudio&&a._node?a._node.gain.setValueAtTime(e?0:a._volume,i.ctx.currentTime):a._node&&(a._node.muted=!!i._muted||e),n._emit("mute",a._id))}return n},volume:function(){var e,t,n,r=this,o=arguments;if(0===o.length)return r._volume;if(1===o.length||2===o.length&&void 0===o[1]?r._getSoundIds().indexOf(o[0])>=0?t=parseInt(o[0],10):e=parseFloat(o[0]):o.length>=2&&(e=parseFloat(o[0]),t=parseInt(o[1],10)),!(void 0!==e&&e>=0&&e<=1))return(n=t?r._soundById(t):r._sounds[0])?n._volume:0;if("loaded"!==r._state||r._playLock)return r._queue.push({event:"volume",action:function(){r.volume.apply(r,o)}}),r;void 0===t&&(r._volume=e),t=r._getSoundIds(t);for(var a=0;a<t.length;a++)(n=r._soundById(t[a]))&&(n._volume=e,o[2]||r._stopFade(t[a]),r._webAudio&&n._node&&!n._muted?n._node.gain.setValueAtTime(e,i.ctx.currentTime):n._node&&!n._muted&&(n._node.volume=e*i.volume()),r._emit("volume",n._id));return r},fade:function(e,t,n,r){var o=this;if("loaded"!==o._state||o._playLock)return o._queue.push({event:"fade",action:function(){o.fade(e,t,n,r)}}),o;e=Math.min(Math.max(0,parseFloat(e)),1),t=Math.min(Math.max(0,parseFloat(t)),1),n=parseFloat(n),o.volume(e,r);for(var a=o._getSoundIds(r),u=0;u<a.length;u++){var c=o._soundById(a[u]);if(c){if(r||o._stopFade(a[u]),o._webAudio&&!c._muted){var s=i.ctx.currentTime,f=s+n/1e3;c._volume=e,c._node.gain.setValueAtTime(e,s),c._node.gain.linearRampToValueAtTime(t,f)}o._startFadeInterval(c,e,t,n,a[u],void 0===r)}}return o},_startFadeInterval:function(e,t,n,r,o,i){var a=this,u=t,c=n-t,s=Math.abs(c/.01),f=Math.max(4,s>0?r/s:r),l=Date.now();e._fadeTo=n,e._interval=setInterval((function(){var o=(Date.now()-l)/r;l=Date.now(),u+=c*o,u=Math.round(100*u)/100,u=c<0?Math.max(n,u):Math.min(n,u),a._webAudio?e._volume=u:a.volume(u,e._id,!0),i&&(a._volume=u),(n<t&&u<=n||n>t&&u>=n)&&(clearInterval(e._interval),e._interval=null,e._fadeTo=null,a.volume(n,e._id),a._emit("fade",e._id))}),f)},_stopFade:function(e){var t=this,n=t._soundById(e);return n&&n._interval&&(t._webAudio&&n._node.gain.cancelScheduledValues(i.ctx.currentTime),clearInterval(n._interval),n._interval=null,t.volume(n._fadeTo,e),n._fadeTo=null,t._emit("fade",e)),t},loop:function(){var e,t,n,r=this,o=arguments;if(0===o.length)return r._loop;if(1===o.length){if("boolean"!=typeof o[0])return!!(n=r._soundById(parseInt(o[0],10)))&&n._loop;e=o[0],r._loop=e}else 2===o.length&&(e=o[0],t=parseInt(o[1],10));for(var i=r._getSoundIds(t),a=0;a<i.length;a++)(n=r._soundById(i[a]))&&(n._loop=e,r._webAudio&&n._node&&n._node.bufferSource&&(n._node.bufferSource.loop=e,e&&(n._node.bufferSource.loopStart=n._start||0,n._node.bufferSource.loopEnd=n._stop,r.playing(i[a])&&(r.pause(i[a],!0),r.play(i[a],!0)))));return r},rate:function(){var e,t,n,r=this,o=arguments;if(0===o.length)t=r._sounds[0]._id;else if(1===o.length){r._getSoundIds().indexOf(o[0])>=0?t=parseInt(o[0],10):e=parseFloat(o[0])}else 2===o.length&&(e=parseFloat(o[0]),t=parseInt(o[1],10));if("number"!=typeof e)return(n=r._soundById(t))?n._rate:r._rate;if("loaded"!==r._state||r._playLock)return r._queue.push({event:"rate",action:function(){r.rate.apply(r,o)}}),r;void 0===t&&(r._rate=e),t=r._getSoundIds(t);for(var a=0;a<t.length;a++)if(n=r._soundById(t[a])){r.playing(t[a])&&(n._rateSeek=r.seek(t[a]),n._playStart=r._webAudio?i.ctx.currentTime:n._playStart),n._rate=e,r._webAudio&&n._node&&n._node.bufferSource?n._node.bufferSource.playbackRate.setValueAtTime(e,i.ctx.currentTime):n._node&&(n._node.playbackRate=e);var u=r.seek(t[a]),c=1e3*((r._sprite[n._sprite][0]+r._sprite[n._sprite][1])/1e3-u)/Math.abs(n._rate);!r._endTimers[t[a]]&&n._paused||(r._clearTimer(t[a]),r._endTimers[t[a]]=setTimeout(r._ended.bind(r,n),c)),r._emit("rate",n._id)}return r},seek:function(){var e,t,n=this,r=arguments;if(0===r.length)n._sounds.length&&(t=n._sounds[0]._id);else if(1===r.length){n._getSoundIds().indexOf(r[0])>=0?t=parseInt(r[0],10):n._sounds.length&&(t=n._sounds[0]._id,e=parseFloat(r[0]))}else 2===r.length&&(e=parseFloat(r[0]),t=parseInt(r[1],10));if(void 0===t)return 0;if("number"==typeof e&&("loaded"!==n._state||n._playLock))return n._queue.push({event:"seek",action:function(){n.seek.apply(n,r)}}),n;var o=n._soundById(t);if(o){if(!("number"==typeof e&&e>=0)){if(n._webAudio){var a=n.playing(t)?i.ctx.currentTime-o._playStart:0;return o._seek+((o._rateSeek?o._rateSeek-o._seek:0)+a*Math.abs(o._rate))}return o._node.currentTime}var u=n.playing(t);u&&n.pause(t,!0),o._seek=e,o._ended=!1,n._clearTimer(t),n._webAudio||!o._node||isNaN(o._node.duration)||(o._node.currentTime=e);var c=function(){u&&n.play(t,!0),n._emit("seek",t)};if(u&&!n._webAudio){setTimeout((function e(){n._playLock?setTimeout(e,0):c()}),0)}else c()}return n},playing:function(e){var t=this;if("number"==typeof e){var n=t._soundById(e);return!!n&&!n._paused}for(var r=0;r<t._sounds.length;r++)if(!t._sounds[r]._paused)return!0;return!1},duration:function(e){var t=this,n=t._duration,r=t._soundById(e);return r&&(n=t._sprite[r._sprite][1]/1e3),n},state:function(){return this._state},unload:function(){for(var e=this,t=e._sounds,n=0;n<t.length;n++)t[n]._paused||e.stop(t[n]._id),e._webAudio||(e._clearSound(t[n]._node),t[n]._node.removeEventListener("error",t[n]._errorFn,!1),t[n]._node.removeEventListener(i._canPlayEvent,t[n]._loadFn,!1),t[n]._node.removeEventListener("ended",t[n]._endFn,!1),i._releaseHtml5Audio(t[n]._node)),delete t[n]._node,e._clearTimer(t[n]._id);var r=i._howls.indexOf(e);r>=0&&i._howls.splice(r,1);var o=!0;for(n=0;n<i._howls.length;n++)if(i._howls[n]._src===e._src||e._src.indexOf(i._howls[n]._src)>=0){o=!1;break}return c&&o&&delete c[e._src],i.noAudio=!1,e._state="unloaded",e._sounds=[],e=null,null},on:function(e,t,n,r){return"function"==typeof t&&this["_on"+e].push(r?{id:n,fn:t,once:r}:{id:n,fn:t}),this},off:function(e,t,n){var r=this,o=r["_on"+e],i=0;if("number"==typeof t&&(n=t,t=null),t||n)for(i=0;i<o.length;i++){var a=n===o[i].id;if(t===o[i].fn&&a||!t&&a){o.splice(i,1);break}}else if(e)r["_on"+e]=[];else{var u=Object.keys(r);for(i=0;i<u.length;i++)0===u[i].indexOf("_on")&&Array.isArray(r[u[i]])&&(r[u[i]]=[])}return r},once:function(e,t,n){return this.on(e,t,n,1),this},_emit:function(e,t,n){for(var r=this,o=r["_on"+e],i=o.length-1;i>=0;i--)o[i].id&&o[i].id!==t&&"load"!==e||(setTimeout(function(e){e.call(this,t,n)}.bind(r,o[i].fn),0),o[i].once&&r.off(e,o[i].fn,o[i].id));return r._loadQueue(e),r},_loadQueue:function(e){var t=this;if(t._queue.length>0){var n=t._queue[0];n.event===e&&(t._queue.shift(),t._loadQueue()),e||n.action()}return t},_ended:function(e){var t=this,n=e._sprite;if(!t._webAudio&&e._node&&!e._node.paused&&!e._node.ended&&e._node.currentTime<e._stop)return setTimeout(t._ended.bind(t,e),100),t;var r=!(!e._loop&&!t._sprite[n][2]);if(t._emit("end",e._id),!t._webAudio&&r&&t.stop(e._id,!0).play(e._id),t._webAudio&&r){t._emit("play",e._id),e._seek=e._start||0,e._rateSeek=0,e._playStart=i.ctx.currentTime;var o=1e3*(e._stop-e._start)/Math.abs(e._rate);t._endTimers[e._id]=setTimeout(t._ended.bind(t,e),o)}return t._webAudio&&!r&&(e._paused=!0,e._ended=!0,e._seek=e._start||0,e._rateSeek=0,t._clearTimer(e._id),t._cleanBuffer(e._node),i._autoSuspend()),t._webAudio||r||t.stop(e._id,!0),t},_clearTimer:function(e){var t=this;if(t._endTimers[e]){if("function"!=typeof t._endTimers[e])clearTimeout(t._endTimers[e]);else{var n=t._soundById(e);n&&n._node&&n._node.removeEventListener("ended",t._endTimers[e],!1)}delete t._endTimers[e]}return t},_soundById:function(e){for(var t=this,n=0;n<t._sounds.length;n++)if(e===t._sounds[n]._id)return t._sounds[n];return null},_inactiveSound:function(){var e=this;e._drain();for(var t=0;t<e._sounds.length;t++)if(e._sounds[t]._ended)return e._sounds[t].reset();return new u(e)},_drain:function(){var e=this,t=e._pool,n=0,r=0;if(!(e._sounds.length<t)){for(r=0;r<e._sounds.length;r++)e._sounds[r]._ended&&n++;for(r=e._sounds.length-1;r>=0;r--){if(n<=t)return;e._sounds[r]._ended&&(e._webAudio&&e._sounds[r]._node&&e._sounds[r]._node.disconnect(0),e._sounds.splice(r,1),n--)}}},_getSoundIds:function(e){if(void 0===e){for(var t=[],n=0;n<this._sounds.length;n++)t.push(this._sounds[n]._id);return t}return[e]},_refreshBuffer:function(e){return e._node.bufferSource=i.ctx.createBufferSource(),e._node.bufferSource.buffer=c[this._src],e._node.bufferSource.connect(e._panner?e._panner:e._node),e._node.bufferSource.loop=e._loop,e._loop&&(e._node.bufferSource.loopStart=e._start||0,e._node.bufferSource.loopEnd=e._stop||0),e._node.bufferSource.playbackRate.setValueAtTime(e._rate,i.ctx.currentTime),this},_cleanBuffer:function(e){var t=i._navigator&&i._navigator.vendor.indexOf("Apple")>=0;if(!e.bufferSource)return this;if(i._scratchBuffer&&e.bufferSource&&(e.bufferSource.onended=null,e.bufferSource.disconnect(0),t))try{e.bufferSource.buffer=i._scratchBuffer}catch(e){}return e.bufferSource=null,this},_clearSound:function(e){/MSIE |Trident\//.test(i._navigator&&i._navigator.userAgent)||(e.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var u=function(e){this._parent=e,this.init()};u.prototype={init:function(){var e=this,t=e._parent;return e._muted=t._muted,e._loop=t._loop,e._volume=t._volume,e._rate=t._rate,e._seek=0,e._paused=!0,e._ended=!0,e._sprite="__default",e._id=++i._counter,t._sounds.push(e),e.create(),e},create:function(){var e=this,t=e._parent,n=i._muted||e._muted||e._parent._muted?0:e._volume;return t._webAudio?(e._node=void 0===i.ctx.createGain?i.ctx.createGainNode():i.ctx.createGain(),e._node.gain.setValueAtTime(n,i.ctx.currentTime),e._node.paused=!0,e._node.connect(i.masterGain)):i.noAudio||(e._node=i._obtainHtml5Audio(),e._errorFn=e._errorListener.bind(e),e._node.addEventListener("error",e._errorFn,!1),e._loadFn=e._loadListener.bind(e),e._node.addEventListener(i._canPlayEvent,e._loadFn,!1),e._endFn=e._endListener.bind(e),e._node.addEventListener("ended",e._endFn,!1),e._node.src=t._src,e._node.preload=!0===t._preload?"auto":t._preload,e._node.volume=n*i.volume(),e._node.load()),e},reset:function(){var e=this,t=e._parent;return e._muted=t._muted,e._loop=t._loop,e._volume=t._volume,e._rate=t._rate,e._seek=0,e._rateSeek=0,e._paused=!0,e._ended=!0,e._sprite="__default",e._id=++i._counter,e},_errorListener:function(){var e=this;e._parent._emit("loaderror",e._id,e._node.error?e._node.error.code:0),e._node.removeEventListener("error",e._errorFn,!1)},_loadListener:function(){var e=this,t=e._parent;t._duration=Math.ceil(10*e._node.duration)/10,0===Object.keys(t._sprite).length&&(t._sprite={__default:[0,1e3*t._duration]}),"loaded"!==t._state&&(t._state="loaded",t._emit("load"),t._loadQueue()),e._node.removeEventListener(i._canPlayEvent,e._loadFn,!1)},_endListener:function(){var e=this,t=e._parent;t._duration===1/0&&(t._duration=Math.ceil(10*e._node.duration)/10,t._sprite.__default[1]===1/0&&(t._sprite.__default[1]=1e3*t._duration),t._ended(e)),e._node.removeEventListener("ended",e._endFn,!1)}};var c={},s=function(e){var t=e._src;if(c[t])return e._duration=c[t].duration,void d(e);if(/^data:[^;]+;base64,/.test(t)){for(var n=atob(t.split(",")[1]),r=new Uint8Array(n.length),o=0;o<n.length;++o)r[o]=n.charCodeAt(o);l(r.buffer,e)}else{var i=new XMLHttpRequest;i.open(e._xhr.method,t,!0),i.withCredentials=e._xhr.withCredentials,i.responseType="arraybuffer",e._xhr.headers&&Object.keys(e._xhr.headers).forEach((function(t){i.setRequestHeader(t,e._xhr.headers[t])})),i.onload=function(){var t=(i.status+"")[0];"0"===t||"2"===t||"3"===t?l(i.response,e):e._emit("loaderror",null,"Failed loading audio file with status: "+i.status+".")},i.onerror=function(){e._webAudio&&(e._html5=!0,e._webAudio=!1,e._sounds=[],delete c[t],e.load())},f(i)}},f=function(e){try{e.send()}catch(t){e.onerror()}},l=function(e,t){var n=function(){t._emit("loaderror",null,"Decoding audio data failed.")},r=function(e){e&&t._sounds.length>0?(c[t._src]=e,d(t,e)):n()};"undefined"!=typeof Promise&&1===i.ctx.decodeAudioData.length?i.ctx.decodeAudioData(e).then(r).catch(n):i.ctx.decodeAudioData(e,r,n)},d=function(e,t){t&&!e._duration&&(e._duration=t.duration),0===Object.keys(e._sprite).length&&(e._sprite={__default:[0,1e3*e._duration]}),"loaded"!==e._state&&(e._state="loaded",e._emit("load"),e._loadQueue())},p=function(){if(i.usingWebAudio){try{"undefined"!=typeof AudioContext?i.ctx=new AudioContext:"undefined"!=typeof webkitAudioContext?i.ctx=new webkitAudioContext:i.usingWebAudio=!1}catch(e){i.usingWebAudio=!1}i.ctx||(i.usingWebAudio=!1);var e=/iP(hone|od|ad)/.test(i._navigator&&i._navigator.platform),t=i._navigator&&i._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),n=t?parseInt(t[1],10):null;if(e&&n&&n<9){var r=/safari/.test(i._navigator&&i._navigator.userAgent.toLowerCase());i._navigator&&!r&&(i.usingWebAudio=!1)}i.usingWebAudio&&(i.masterGain=void 0===i.ctx.createGain?i.ctx.createGainNode():i.ctx.createGain(),i.masterGain.gain.setValueAtTime(i._muted?0:i._volume,i.ctx.currentTime),i.masterGain.connect(i.ctx.destination)),i._setup()}};void 0===(o=function(){return{Howler:i,Howl:a}}.apply(t,[]))||(e.exports=o),t.Howler=i,t.Howl=a,void 0!==n?(n.HowlerGlobal=r,n.Howler=i,n.Howl=a,n.Sound=u):"undefined"!=typeof window&&(window.HowlerGlobal=r,window.Howler=i,window.Howl=a,window.Sound=u)}(),function(){"use strict";var e;HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(e){var t=this;if(!t.ctx||!t.ctx.listener)return t;for(var n=t._howls.length-1;n>=0;n--)t._howls[n].stereo(e);return t},HowlerGlobal.prototype.pos=function(e,t,n){var r=this;return r.ctx&&r.ctx.listener?"number"!=typeof e?r._pos:(r._pos=[e,t="number"!=typeof t?r._pos[1]:t,n="number"!=typeof n?r._pos[2]:n],void 0!==r.ctx.listener.positionX?(r.ctx.listener.positionX.setTargetAtTime(r._pos[0],Howler.ctx.currentTime,.1),r.ctx.listener.positionY.setTargetAtTime(r._pos[1],Howler.ctx.currentTime,.1),r.ctx.listener.positionZ.setTargetAtTime(r._pos[2],Howler.ctx.currentTime,.1)):r.ctx.listener.setPosition(r._pos[0],r._pos[1],r._pos[2]),r):r},HowlerGlobal.prototype.orientation=function(e,t,n,r,o,i){var a=this;if(!a.ctx||!a.ctx.listener)return a;var u=a._orientation;return"number"!=typeof e?u:(a._orientation=[e,t="number"!=typeof t?u[1]:t,n="number"!=typeof n?u[2]:n,r="number"!=typeof r?u[3]:r,o="number"!=typeof o?u[4]:o,i="number"!=typeof i?u[5]:i],void 0!==a.ctx.listener.forwardX?(a.ctx.listener.forwardX.setTargetAtTime(e,Howler.ctx.currentTime,.1),a.ctx.listener.forwardY.setTargetAtTime(t,Howler.ctx.currentTime,.1),a.ctx.listener.forwardZ.setTargetAtTime(n,Howler.ctx.currentTime,.1),a.ctx.listener.upX.setTargetAtTime(r,Howler.ctx.currentTime,.1),a.ctx.listener.upY.setTargetAtTime(o,Howler.ctx.currentTime,.1),a.ctx.listener.upZ.setTargetAtTime(i,Howler.ctx.currentTime,.1)):a.ctx.listener.setOrientation(e,t,n,r,o,i),a)},Howl.prototype.init=(e=Howl.prototype.init,function(t){var n=this;return n._orientation=t.orientation||[1,0,0],n._stereo=t.stereo||null,n._pos=t.pos||null,n._pannerAttr={coneInnerAngle:void 0!==t.coneInnerAngle?t.coneInnerAngle:360,coneOuterAngle:void 0!==t.coneOuterAngle?t.coneOuterAngle:360,coneOuterGain:void 0!==t.coneOuterGain?t.coneOuterGain:0,distanceModel:void 0!==t.distanceModel?t.distanceModel:"inverse",maxDistance:void 0!==t.maxDistance?t.maxDistance:1e4,panningModel:void 0!==t.panningModel?t.panningModel:"HRTF",refDistance:void 0!==t.refDistance?t.refDistance:1,rolloffFactor:void 0!==t.rolloffFactor?t.rolloffFactor:1},n._onstereo=t.onstereo?[{fn:t.onstereo}]:[],n._onpos=t.onpos?[{fn:t.onpos}]:[],n._onorientation=t.onorientation?[{fn:t.onorientation}]:[],e.call(this,t)}),Howl.prototype.stereo=function(e,n){var r=this;if(!r._webAudio)return r;if("loaded"!==r._state)return r._queue.push({event:"stereo",action:function(){r.stereo(e,n)}}),r;var o=void 0===Howler.ctx.createStereoPanner?"spatial":"stereo";if(void 0===n){if("number"!=typeof e)return r._stereo;r._stereo=e,r._pos=[e,0,0]}for(var i=r._getSoundIds(n),a=0;a<i.length;a++){var u=r._soundById(i[a]);if(u){if("number"!=typeof e)return u._stereo;u._stereo=e,u._pos=[e,0,0],u._node&&(u._pannerAttr.panningModel="equalpower",u._panner&&u._panner.pan||t(u,o),"spatial"===o?void 0!==u._panner.positionX?(u._panner.positionX.setValueAtTime(e,Howler.ctx.currentTime),u._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),u._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):u._panner.setPosition(e,0,0):u._panner.pan.setValueAtTime(e,Howler.ctx.currentTime)),r._emit("stereo",u._id)}}return r},Howl.prototype.pos=function(e,n,r,o){var i=this;if(!i._webAudio)return i;if("loaded"!==i._state)return i._queue.push({event:"pos",action:function(){i.pos(e,n,r,o)}}),i;if(n="number"!=typeof n?0:n,r="number"!=typeof r?-.5:r,void 0===o){if("number"!=typeof e)return i._pos;i._pos=[e,n,r]}for(var a=i._getSoundIds(o),u=0;u<a.length;u++){var c=i._soundById(a[u]);if(c){if("number"!=typeof e)return c._pos;c._pos=[e,n,r],c._node&&(c._panner&&!c._panner.pan||t(c,"spatial"),void 0!==c._panner.positionX?(c._panner.positionX.setValueAtTime(e,Howler.ctx.currentTime),c._panner.positionY.setValueAtTime(n,Howler.ctx.currentTime),c._panner.positionZ.setValueAtTime(r,Howler.ctx.currentTime)):c._panner.setPosition(e,n,r)),i._emit("pos",c._id)}}return i},Howl.prototype.orientation=function(e,n,r,o){var i=this;if(!i._webAudio)return i;if("loaded"!==i._state)return i._queue.push({event:"orientation",action:function(){i.orientation(e,n,r,o)}}),i;if(n="number"!=typeof n?i._orientation[1]:n,r="number"!=typeof r?i._orientation[2]:r,void 0===o){if("number"!=typeof e)return i._orientation;i._orientation=[e,n,r]}for(var a=i._getSoundIds(o),u=0;u<a.length;u++){var c=i._soundById(a[u]);if(c){if("number"!=typeof e)return c._orientation;c._orientation=[e,n,r],c._node&&(c._panner||(c._pos||(c._pos=i._pos||[0,0,-.5]),t(c,"spatial")),void 0!==c._panner.orientationX?(c._panner.orientationX.setValueAtTime(e,Howler.ctx.currentTime),c._panner.orientationY.setValueAtTime(n,Howler.ctx.currentTime),c._panner.orientationZ.setValueAtTime(r,Howler.ctx.currentTime)):c._panner.setOrientation(e,n,r)),i._emit("orientation",c._id)}}return i},Howl.prototype.pannerAttr=function(){var e,n,o,i=this,a=arguments;if(!i._webAudio)return i;if(0===a.length)return i._pannerAttr;if(1===a.length){if("object"!==r(a[0]))return(o=i._soundById(parseInt(a[0],10)))?o._pannerAttr:i._pannerAttr;e=a[0],void 0===n&&(e.pannerAttr||(e.pannerAttr={coneInnerAngle:e.coneInnerAngle,coneOuterAngle:e.coneOuterAngle,coneOuterGain:e.coneOuterGain,distanceModel:e.distanceModel,maxDistance:e.maxDistance,refDistance:e.refDistance,rolloffFactor:e.rolloffFactor,panningModel:e.panningModel}),i._pannerAttr={coneInnerAngle:void 0!==e.pannerAttr.coneInnerAngle?e.pannerAttr.coneInnerAngle:i._coneInnerAngle,coneOuterAngle:void 0!==e.pannerAttr.coneOuterAngle?e.pannerAttr.coneOuterAngle:i._coneOuterAngle,coneOuterGain:void 0!==e.pannerAttr.coneOuterGain?e.pannerAttr.coneOuterGain:i._coneOuterGain,distanceModel:void 0!==e.pannerAttr.distanceModel?e.pannerAttr.distanceModel:i._distanceModel,maxDistance:void 0!==e.pannerAttr.maxDistance?e.pannerAttr.maxDistance:i._maxDistance,refDistance:void 0!==e.pannerAttr.refDistance?e.pannerAttr.refDistance:i._refDistance,rolloffFactor:void 0!==e.pannerAttr.rolloffFactor?e.pannerAttr.rolloffFactor:i._rolloffFactor,panningModel:void 0!==e.pannerAttr.panningModel?e.pannerAttr.panningModel:i._panningModel})}else 2===a.length&&(e=a[0],n=parseInt(a[1],10));for(var u=i._getSoundIds(n),c=0;c<u.length;c++)if(o=i._soundById(u[c])){var s=o._pannerAttr;s={coneInnerAngle:void 0!==e.coneInnerAngle?e.coneInnerAngle:s.coneInnerAngle,coneOuterAngle:void 0!==e.coneOuterAngle?e.coneOuterAngle:s.coneOuterAngle,coneOuterGain:void 0!==e.coneOuterGain?e.coneOuterGain:s.coneOuterGain,distanceModel:void 0!==e.distanceModel?e.distanceModel:s.distanceModel,maxDistance:void 0!==e.maxDistance?e.maxDistance:s.maxDistance,refDistance:void 0!==e.refDistance?e.refDistance:s.refDistance,rolloffFactor:void 0!==e.rolloffFactor?e.rolloffFactor:s.rolloffFactor,panningModel:void 0!==e.panningModel?e.panningModel:s.panningModel};var f=o._panner;f||(o._pos||(o._pos=i._pos||[0,0,-.5]),t(o,"spatial"),f=o._panner),f.coneInnerAngle=s.coneInnerAngle,f.coneOuterAngle=s.coneOuterAngle,f.coneOuterGain=s.coneOuterGain,f.distanceModel=s.distanceModel,f.maxDistance=s.maxDistance,f.refDistance=s.refDistance,f.rolloffFactor=s.rolloffFactor,f.panningModel=s.panningModel}return i},Sound.prototype.init=function(e){return function(){var t=this,n=t._parent;t._orientation=n._orientation,t._stereo=n._stereo,t._pos=n._pos,t._pannerAttr=n._pannerAttr,e.call(this),t._stereo?n.stereo(t._stereo):t._pos&&n.pos(t._pos[0],t._pos[1],t._pos[2],t._id)}}(Sound.prototype.init),Sound.prototype.reset=function(e){return function(){var t=this,n=t._parent;return t._orientation=n._orientation,t._stereo=n._stereo,t._pos=n._pos,t._pannerAttr=n._pannerAttr,t._stereo?n.stereo(t._stereo):t._pos?n.pos(t._pos[0],t._pos[1],t._pos[2],t._id):t._panner&&(t._panner.disconnect(0),t._panner=void 0,n._refreshBuffer(t)),e.call(this)}}(Sound.prototype.reset);var t=function(e,t){"spatial"===(t=t||"spatial")?(e._panner=Howler.ctx.createPanner(),e._panner.coneInnerAngle=e._pannerAttr.coneInnerAngle,e._panner.coneOuterAngle=e._pannerAttr.coneOuterAngle,e._panner.coneOuterGain=e._pannerAttr.coneOuterGain,e._panner.distanceModel=e._pannerAttr.distanceModel,e._panner.maxDistance=e._pannerAttr.maxDistance,e._panner.refDistance=e._pannerAttr.refDistance,e._panner.rolloffFactor=e._pannerAttr.rolloffFactor,e._panner.panningModel=e._pannerAttr.panningModel,void 0!==e._panner.positionX?(e._panner.positionX.setValueAtTime(e._pos[0],Howler.ctx.currentTime),e._panner.positionY.setValueAtTime(e._pos[1],Howler.ctx.currentTime),e._panner.positionZ.setValueAtTime(e._pos[2],Howler.ctx.currentTime)):e._panner.setPosition(e._pos[0],e._pos[1],e._pos[2]),void 0!==e._panner.orientationX?(e._panner.orientationX.setValueAtTime(e._orientation[0],Howler.ctx.currentTime),e._panner.orientationY.setValueAtTime(e._orientation[1],Howler.ctx.currentTime),e._panner.orientationZ.setValueAtTime(e._orientation[2],Howler.ctx.currentTime)):e._panner.setOrientation(e._orientation[0],e._orientation[1],e._orientation[2])):(e._panner=Howler.ctx.createStereoPanner(),e._panner.pan.setValueAtTime(e._stereo,Howler.ctx.currentTime)),e._panner.connect(e._node),e._paused||e._parent.pause(e._id,!0).play(e._id,!0)}}()}).call(this,n("pCvA"))},ZX8b:function(e,t,n){"use strict";function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return u}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(){return $e}function a(e){for(var t=0,n=0,r=e.length;n<r;n+=1){t=(t<<5)-t+e.charCodeAt(n),t|=0}return t}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return u}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e){if(!e)return{};var t={};return e.forEach((function(e){var n,r,o=e.match(/\s*(\w+)\s*:\s*(.+?)\s*$/);if(Array.isArray(o)){var i=u(o,3),a=i[1],c=i[2];n=a;try{r=JSON.parse(c)}catch(e){var s=c.substr(0,1);"{"===s||"["===s?console.warn("Malformed JSON tag, ignored.",a,c):r=c}}else n=e,r=!0;Array.isArray(t[n])?t[n].push(r):t[n]=t[n]?[t[n],r]:r})),t}function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t=function(e){var t=function(e,t){if("object"!=f(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=f(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==f(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e){var t=ze();t.sound.playSound(t.loader.getAssetPath(e))}function v(e){var t=ze();t.sound.stopSound(e?t.loader.getAssetPath(e):null)}function y(e){var t=ze(),n=t.sound,r=t.state,o=t.loader;n.stopMusic(),n.playMusic(o.getAssetPath(e)),r.setSubkey("game","$currentMusic",e)}function m(e){var t=ze(),n=t.state;t.sound.stopMusic(e?t.loader.getAssetPath(e):null),n.setSubkey("game","$currentMusic",!1)}function h(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function g(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){function i(e){h(u,r,o,i,a,"next",e)}function a(e){h(u,r,o,i,a,"throw",e)}var u=e.apply(t,n);i(void 0)}))}}function b(e){var t=ze().state.get().game.gameUUID,n=e;return e||(n="_autosave_"),"".concat(t,"/").concat(n)}function w(){return A.apply(this,arguments)}function A(){return(A=g((function*(e){var t=ze(),n=t.persistent,r=t.state,o=yield n.get(b(e));r.setKey("scenes",o.scenes),r.setKey("game",o.game),Qe.loadState(o.state);var i=r.get(),a=i.metadata,u=i.game;a.observe&&a.observe.forEach((function(e){r.setSubkey("vars",e,Qe.getVariable(e))})),u.$currentMusic&&y(u.$currentMusic),Xe("game/load",e)}))).apply(this,arguments)}function S(){return I.apply(this,arguments)}function I(){return(I=g((function*(e){var t=ze(),n=t.persistent,r=t.state.get(),o={id:e,date:Date.now(),state:Qe.getState(),game:r.game,scenes:r.scenes};yield n.set(b(e),o),Xe("game/save",e)}))).apply(this,arguments)}function T(){return x.apply(this,arguments)}function x(){return(x=g((function*(e){return yield ze().persistent.exists(b(e))}))).apply(this,arguments)}function O(){return(O=g((function*(e){yield ze().persistent.remove(b(e)),Xe("game/removeSave",e)}))).apply(this,arguments)}function k(){return E.apply(this,arguments)}function E(){return E=g((function*(){var e=ze(),t=e.persistent,n=e.state.get().game.gameUUID,r=(yield t.keys()).filter((function(e){return e.includes(n)})),o=yield Promise.all(r.map(function(){var e=g((function*(e){var n=yield t.get(e);return{id:n.id,date:n.date,game:n.game}}));return function(t){return e.apply(this,arguments)}}()));return Xe("game/listSaves",o),o})),E.apply(this,arguments)}function j(e){return j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j(e)}function P(e,t,n){return t=function(e){var t=function(e,t){if("object"!=j(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=j(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==j(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function D(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function M(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){function i(e){D(u,r,o,i,a,"next",e)}function a(e){D(u,r,o,i,a,"throw",e)}var u=e.apply(t,n);i(void 0)}))}}function C(e){var t=e;return"boolean"!=typeof e&&e||(t="_default_"),"checkpoint/".concat(t)}function N(){return(N=M((function*(e,t,n){Ke=!1,yield ze().loader.init(e),ze().state.setKey("game",{$path:e,$file:t,gameUUID:n||a("".concat(e,"|").concat(t))}),Xe("game/init",{pathToInkFile:e,inkFile:t})}))).apply(this,arguments)}function B(){return L.apply(this,arguments)}function L(){return(L=M((function*(){var e=ze().state.get().game;"string"==typeof(Ge=yield ze().loader.loadInk(e.$file))&&(Ge=JSON.parse(Ge.replace("\ufeff",""))),Xe("game/loadInkFile",e.$file)}))).apply(this,arguments)}function R(){return F.apply(this,arguments)}function F(){return(F=M((function*(){var e=ze().state;Ge||(yield B()),Qe.initStory(Ge);var t=Qe.getGlobalTags();e.setKey("metadata",t),Ke=!0,Xe("game/initInkStory")}))).apply(this,arguments)}function H(){return U.apply(this,arguments)}function U(){return(U=M((function*(e){var t,n;V(),Ke&&e||(yield R()),t=ze().state,(n=t.get().metadata.observe)&&n.forEach((function(e){t.setSubkey("vars",e,Qe.getVariable(e)),Qe.observeVariable(e,(function(e,n){t.setSubkey("vars",e,n),Xe("ink/variableObserver",{name:e,value:n})}))})),e&&(yield T(e))&&(yield w(e)),Xe("game/start",{saveSlot:e})}))).apply(this,arguments)}function V(){var e=ze().state;m(),e.setKey("scenes",[]),e.setKey("vars",{}),Xe("game/clear")}function G(){return K.apply(this,arguments)}function K(){return(K=M((function*(){var e;if(yield T(Ze))e=Ze;else{var t=(yield k()).filter((function(e){return e.id.includes("checkpoint/")}));t.length&&(e=t.sort((function(e,t){return t.date-e.date}))[0].id)}return Xe("game/canResume",e),e}))).apply(this,arguments)}function q(){return(q=M((function*(){var e=yield G();Xe("game/resume",{saveSlot:e}),yield H(e)}))).apply(this,arguments)}function z(){return $.apply(this,arguments)}function $(){return($=M((function*(e){Xe("game/restart",{saveSlot:e}),yield H(e),X()}))).apply(this,arguments)}function W(e,t){e.forEach((function(e){e in t&&e in et&&(et[e](t[e]),Xe("game/handletag",P({},e,t[e])))}))}function X(){var e=ze().state,t=Qe.getScene();if(0!==t.content.length){Je.forEach((function(e){return e(t)}));var n=t.tags;if(n.RESTART)z();else if(n.RESTART_FROM_CHECKPOINT)z(C(n.RESTART_FROM_CHECKPOINT));else{W(["CLEAR","STOP_SOUND","STOP_MUSIC","PLAY_SOUND","PLAY_MUSIC","AUDIO","AUDIOLOOP"],n);var r=e.get().metadata;r.single_scene?e.setKey("scenes",[t]):e.appendKey("scenes",t),W(["CHECKPOINT","SAVEGAME"],n),!1!==r.autosave&&S(Ze),Xe("game/continueStory")}}}function Y(e){return Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Y(e)}function Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(n),!0).forEach((function(t){Z(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Z(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Y(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Y(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Y(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ee(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return u}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return te(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return te(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function te(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ne(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function re(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){function i(e){ne(u,r,o,i,a,"next",e)}function a(e){ne(u,r,o,i,a,"throw",e)}var u=e.apply(t,n);i(void 0)}))}}function oe(){return(oe=re((function*(){var e=ze(),t=e.state,n=e.persistent,r=JSON.parse(JSON.stringify(i().settings)),o={};(yield n.exists("settings"))&&(o=yield n.get("settings"));var a=J(J({},r),o);t.setKey("settings",a),ce(),Xe("settings/load",a)}))).apply(this,arguments)}function ie(){return(ie=re((function*(){var e=ze(),t=e.persistent,n=e.state.get();yield t.set("settings",n.settings),Xe("settings/save",n.settings)}))).apply(this,arguments)}function ae(e){var t=ze().state.get().settings[e];return Xe("settings/get",{name:e,value:t}),t}function ue(e,t){var n=ze().state,r=n.get().settings[e];n.setSubkey("settings",e,t),nt[e]&&nt[e](r,t),Xe("settings/set",{name:e,value:t})}function ce(){var e=ze().state.get().settings;Object.entries(e).forEach((function(e){var t=ee(e,2),n=t[0];nt[n]&&nt[n](null,t[1])}))}function se(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function fe(){var e;return e=function*(e,t){Xe("atrament/init");var n=ze().persistent;!function(e,t){if(!e)throw new Error("atrament.init: provide ink Story constructor as a first argument!");if("function"!=typeof e)throw new Error("atrament.init: Story is not a constructor!");t&&($e.InkStory=e,Object.entries(t).forEach((function(e){var t=r(e,2);$e[t[0]]=JSON.parse(JSON.stringify(t[1]))})))}(e,t),n.init(i().applicationID),yield rt.load()},fe=function(){var t=this,n=arguments;return new Promise((function(r,o){function i(e){se(u,r,o,i,a,"next",e)}function a(e){se(u,r,o,i,a,"throw",e)}var u=e.apply(t,n);i(void 0)}))},fe.apply(this,arguments)}function le(e,t,n){return n||(n=t,t={}),"function"!=typeof n&&Dt(7),Vt(e,t,[Ft],(function(e){return Ht(de(e.data[0],Ut(e.data[1])))}),1,n)}function de(e,t){return Mt(e,{i:2},t&&t.out,t&&t.dictionary)}function pe(e,t){if(t){for(var n="",r=0;r<e.length;r+=16384)n+=String.fromCharCode.apply(null,e.subarray(r,r+16384));return n}if(zt)return zt.decode(e);var o=Wt(e),i=o.s;return(n=o.r).length&&Dt(8),i}function _e(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return u}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ve(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ve(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ve(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ye(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function me(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){function i(e){ye(u,r,o,i,a,"next",e)}function a(e){ye(u,r,o,i,a,"throw",e)}var u=e.apply(t,n);i(void 0)}))}}function he(){return(he=me((function*(e){for(var t=yield fetch(e,{responseType:"arraybuffer"}),n=t.body.getReader(),r=+t.headers.get("Content-Length"),o=[],i=0;;){var a=yield n.read(),u=a.value;if(a.done)break;o.push(u),i+=u.length;var c=Math.round(100*i/r);nn({percent:c,receivedLength:i,contentLength:r})}var s=new Uint8Array(i),f=0;return o.forEach((function(e){s.set(e,f),f+=e.length})),s}))).apply(this,arguments)}function ge(){return ge=me((function*(e){if(e.endsWith(".zip")&&(Zt="zip"),"zip"===Zt){tn={};var t=yield function(e){return he.apply(this,arguments)}(e);yield function(e,t,n){n||(n=t,t={}),"function"!=typeof n&&Dt(7);var r=[],o=function(){for(var e=0;e<r.length;++e)r[e]()},i={},a=function(e,t){Jt((function(){n(e,t)}))};Jt((function(){a=n}));for(var u=e.length-22;101010256!=Kt(e,u);--u)if(!u||e.length-u>65558)return a(Dt(13,0,1),null),o;var c=Gt(e,u+8);if(c){var s=c,f=Kt(e,u+16),l=4294967295==f||65535==s;if(l){var d=Kt(e,u-12);(l=101075792==Kt(e,d))&&(s=c=Kt(e,d+32),f=Kt(e,d+48))}for(var p=t&&t.filter,_=function(){var t=Yt(e,f,l),n=t[0],u=t[1],s=t[2],d=t[3],_=t[4],v=Xt(e,t[5]);f=_;var y=function(e,t){e?(o(),a(e,null)):(t&&(i[d]=t),--c||a(null,i))};if(!p||p({name:d,size:u,originalSize:s,compression:n}))if(n)if(8==n){var m=e.subarray(v,v+u);if(s<524288||u>.8*s)try{y(null,de(m,{out:new at(s)}))}catch(e){y(e,null)}else r.push(le(m,{size:s},y))}else y(Dt(14,"unknown compression type "+n,1),null);else y(null,jt(e,v,v+u));else y(null,null)},v=0;v<s;++v)_()}else a(null,{});return o}(t,(function(e,t){return Object.entries(t).forEach((function(e){var t=_e(e,2);tn[t[0]]=URL.createObjectURL(new Blob([t[1]]))}))}))}else en=e})),ge.apply(this,arguments)}function be(e){return"zip"===Zt?tn[e]:"".concat(en,"/").concat(e)}function we(){return(we=me((function*(e){var t=yield fetch(be(e));if(t.ok)return t.text();throw new Error("Failed to load ink file: ".concat(e))}))).apply(this,arguments)}function Ae(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function Se(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){function i(e){Ae(u,r,o,i,a,"next",e)}function a(e){Ae(u,r,o,i,a,"throw",e)}var u=e.apply(t,n);i(void 0)}))}}function Ie(){return(Ie=Se((function*(e){return null!==(yield $t.getItem(e))}))).apply(this,arguments)}function Te(){return(Te=Se((function*(e){return yield $t.getItem(e)}))).apply(this,arguments)}function xe(){return(xe=Se((function*(e,t){yield $t.setItem(e,t)}))).apply(this,arguments)}function Oe(){return(Oe=Se((function*(e){yield $t.removeItem(e)}))).apply(this,arguments)}function ke(){return(ke=Se((function*(){return yield $t.keys()}))).apply(this,arguments)}function Ee(e,t){e?t[e]&&t[e].stop():Object.keys(t).forEach((function(e){e&&e.fade&&e.fade(void 0,0,1),t[e].stop()}))}function je(){cn.Howler.mute(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])}function Pe(e){cn.Howler.volume(e/100)}function De(e){return De="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},De(e)}function Me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Me(Object(n),!0).forEach((function(t){Ne(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Me(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ne(e,t,n){return t=function(e){var t=function(e,t){if("object"!=De(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=De(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==De(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Be(e){return Be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Be(e)}function Le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Le(Object(n),!0).forEach((function(t){Fe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Fe(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Be(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Be(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Be(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function He(e){return function(e){if(Array.isArray(e))return Ue(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Ue(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ue(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ue(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.r(t);var Ve,Ge,Ke,qe={loader:null,persistent:null,sound:{init:function(){},mute:function(){},isMuted:function(){},setVolume:function(){},getVolume:function(){},playSound:function(){},playMusic:function(){},stopMusic:function(){}},state:null},ze=function(){return qe},$e={applicationID:"!CHANGE_THIS",settings:{volume:0,mute:!0}},We={all:Ve=Ve||new Map,on:function(e,t){var n=Ve.get(e);n?n.push(t):Ve.set(e,[t])},off:function(e,t){var n=Ve.get(e);n&&(t?n.splice(n.indexOf(t)>>>0,1):Ve.set(e,[]))},emit:function(e,t){var n=Ve.get(e);n&&n.slice().map((function(e){e(t)})),(n=Ve.get("*"))&&n.slice().map((function(n){n(e,t)}))}},Xe=function(){return We.emit.apply(We,arguments)},Ye=null,Qe={initStory:function(e){var t=i();Ye=new(0,t.InkStory)(e),Xe("ink/initStory")},story:function(){return Ye},loadState:function(e){return Ye.state.LoadJson(e)},getState:function(){return Ye.state.toJson()},makeChoice:function(e){Ye.ChooseChoiceIndex(e),Xe("ink/makeChoice",e)},getVisitCount:function(e){var t=Ye.VisitCountAtPathString(e);return Xe("ink/getVisitCount",{ref:e,visitCount:t}),t},evaluateFunction:function(e,t,n){var r=Ye.EvaluateFunction(e,t,n);return Xe("ink/evaluateFunction",{function:e,args:t,result:r}),r},getGlobalTags:function(){var e=s(Ye.globalTags);return Xe("ink/getGlobalTags",e),e},getVariable:function(e){var t=Ye.variablesState[e];return Xe("ink/getVariable",{name:e,value:t}),t},setVariable:function(e,t){Ye.variablesState[e]=t,Xe("ink/setVariable",{name:e,value:t})},observeVariable:function(e,t){return Ye.ObserveVariable(e,t)},goTo:function(e){Ye.ChoosePathString(e),Xe("ink/goTo",e)},getScene:function(){for(var e={content:[],text:[],tags:{},choices:[],uuid:Date.now()};Ye.canContinue;){Ye.Continue(),e.text.push(Ye.currentText);var t=s(Ye.currentTags);e.tags=d(d({},e.tags),t),e.content.push({text:Ye.currentText,tags:t})}return Ye.currentChoices.forEach((function(t,n){e.choices.push({id:n,choice:t.text,tags:t.tags})})),Xe("ink/getScene",e),e}},Je=[],Ze="_autosave_",et={CLEAR:function(){return ze().state.setKey("scenes",[])},AUDIO:function(e){return e?_(e):v()},AUDIOLOOP:function(e){return e?y(e):m()},PLAY_SOUND:_,STOP_SOUND:function(e){return!0===e?v():v(e)},PLAY_MUSIC:y,STOP_MUSIC:function(e){return!0===e?m():m(e)},CHECKPOINT:function(e){S(C(e))},SAVEGAME:function(e){return S(e)}},tt={init:function(){return N.apply(this,arguments)},loadInkFile:B,initInkStory:R,start:H,resume:function(){return q.apply(this,arguments)},canResume:G,restart:z,clear:V,reset:function(){var e=ze().state;V(),e.setKey("metadata",{}),e.setKey("game",{}),Xe("game/reset")},continueStory:X,makeChoice:function(e){return Qe.makeChoice(e)},getAssetPath:function(e){return ze().loader.getAssetPath(e)},defineSceneProcessor:function(e){Je.push(e)},save:S,load:w,listSaves:k,removeSave:function(){return O.apply(this,arguments)},existSave:T},nt={mute:function(e,t){return ze().sound.mute(t)},volume:function(e,t){return ze().sound.setVolume(t)}},rt={load:function(){return oe.apply(this,arguments)},save:function(){return ie.apply(this,arguments)},get:ae,set:ue,toggle:function(e){ue(e,!ae(e))},defineHandler:function(e,t){nt[e]=t},runHandlers:ce},ot={get interfaces(){return ze()},defineInterfaces:function(e){Object.keys(e).forEach((function(t){t in qe&&(qe[t]=e[t])}))},init:function(){return fe.apply(this,arguments)},get state(){return ze().state},get store(){return ze().state.store()},on:function(e,t){return We.on(e,t)},off:function(e,t){return We.off(e,t)},game:tt,ink:Qe,settings:rt,version:"1.2.0"},it={},at=Uint8Array,ut=Uint16Array,ct=Int32Array,st=new at([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),ft=new at([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),lt=new at([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),dt=function(e,t){for(var n=new ut(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];var o=new ct(n[30]);for(r=1;r<30;++r)for(var i=n[r];i<n[r+1];++i)o[i]=i-n[r]<<5|r;return{b:n,r:o}},pt=dt(st,2),_t=pt.b,vt=pt.r;_t[28]=258,vt[258]=28;for(var yt=dt(ft,0),mt=yt.b,ht=new ut(32768),gt=0;gt<32768;++gt){var bt=(43690&gt)>>1|(21845&gt)<<1;ht[gt]=((65280&(bt=(61680&(bt=(52428&bt)>>2|(13107&bt)<<2))>>4|(3855&bt)<<4))>>8|(255&bt)<<8)>>1}var wt=function(e,t,n){for(var r=e.length,o=0,i=new ut(t);o<r;++o)e[o]&&++i[e[o]-1];var a,u=new ut(t);for(o=1;o<t;++o)u[o]=u[o-1]+i[o-1]<<1;if(n){a=new ut(1<<t);var c=15-t;for(o=0;o<r;++o)if(e[o])for(var s=o<<4|e[o],f=t-e[o],l=u[e[o]-1]++<<f,d=l|(1<<f)-1;l<=d;++l)a[ht[l]>>c]=s}else for(a=new ut(r),o=0;o<r;++o)e[o]&&(a[o]=ht[u[e[o]-1]++]>>15-e[o]);return a},At=new at(288);for(gt=0;gt<144;++gt)At[gt]=8;for(gt=144;gt<256;++gt)At[gt]=9;for(gt=256;gt<280;++gt)At[gt]=7;for(gt=280;gt<288;++gt)At[gt]=8;var St=new at(32);for(gt=0;gt<32;++gt)St[gt]=5;var It=wt(At,9,1),Tt=wt(St,5,1),xt=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},Ot=function(e,t,n){var r=t/8|0;return(e[r]|e[r+1]<<8)>>(7&t)&n},kt=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(7&t)},Et=function(e){return(e+7)/8|0},jt=function(e,t,n){return(null==t||t<0)&&(t=0),(null==n||n>e.length)&&(n=e.length),new at(e.subarray(t,n))},Pt=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Dt=function e(t,n,r){var o=new Error(n||Pt[t]);if(o.code=t,Error.captureStackTrace&&Error.captureStackTrace(o,e),!r)throw o;return o},Mt=function(e,t,n,r){var o=e.length,i=r?r.length:0;if(!o||t.f&&!t.l)return n||new at(0);var a=!n,u=a||2!=t.i,c=t.i;a&&(n=new at(3*o));var s=function(e){var t=n.length;if(e>t){var r=new at(Math.max(2*t,e));r.set(n),n=r}},f=t.f||0,l=t.p||0,d=t.b||0,p=t.l,_=t.d,v=t.m,y=t.n,m=8*o;do{if(!p){f=Ot(e,l,1);var h=Ot(e,l+1,3);if(l+=3,!h){var g=e[(j=Et(l)+4)-4]|e[j-3]<<8,b=j+g;if(b>o){c&&Dt(0);break}u&&s(d+g),n.set(e.subarray(j,b),d),t.b=d+=g,t.p=l=8*b,t.f=f;continue}if(1==h)p=It,_=Tt,v=9,y=5;else if(2==h){var w=Ot(e,l,31)+257,A=Ot(e,l+10,15)+4,S=w+Ot(e,l+5,31)+1;l+=14;for(var I=new at(S),T=new at(19),x=0;x<A;++x)T[lt[x]]=Ot(e,l+3*x,7);l+=3*A;var O=xt(T),k=(1<<O)-1,E=wt(T,O,1);for(x=0;x<S;){var j,P=E[Ot(e,l,k)];if(l+=15&P,(j=P>>4)<16)I[x++]=j;else{var D=0,M=0;for(16==j?(M=3+Ot(e,l,3),l+=2,D=I[x-1]):17==j?(M=3+Ot(e,l,7),l+=3):18==j&&(M=11+Ot(e,l,127),l+=7);M--;)I[x++]=D}}var C=I.subarray(0,w),N=I.subarray(w);v=xt(C),y=xt(N),p=wt(C,v,1),_=wt(N,y,1)}else Dt(1);if(l>m){c&&Dt(0);break}}u&&s(d+131072);for(var B=(1<<v)-1,L=(1<<y)-1,R=l;;R=l){var F=(D=p[kt(e,l)&B])>>4;if((l+=15&D)>m){c&&Dt(0);break}if(D||Dt(2),F<256)n[d++]=F;else{if(256==F){R=l,p=null;break}var H=F-254;F>264&&(H=Ot(e,l,(1<<(G=st[x=F-257]))-1)+_t[x],l+=G);var U=_[kt(e,l)&L],V=U>>4;U||Dt(3),l+=15&U;N=mt[V];if(V>3){var G=ft[V];N+=kt(e,l)&(1<<G)-1,l+=G}if(l>m){c&&Dt(0);break}u&&s(d+131072);var K=d+H;if(d<N){var q=i-N,z=Math.min(N,K);for(q+d<0&&Dt(3);d<z;++d)n[d]=r[q+d]}for(;d<K;++d)n[d]=n[d-N]}}t.l=p,t.p=R,t.b=d,t.f=f,p&&(f=1,t.m=v,t.d=_,t.n=y)}while(!f);return d!=n.length&&a?jt(n,0,d):n.subarray(0,d)},Ct=new at(0),Nt=function(e,t){var n={};for(var r in e)n[r]=e[r];for(var r in t)n[r]=t[r];return n},Bt=function(e,t,n){for(var r=e(),o=e.toString(),i=o.slice(o.indexOf("[")+1,o.lastIndexOf("]")).replace(/\s+/g,"").split(","),a=0;a<r.length;++a){var u=r[a],c=i[a];if("function"==typeof u){t+=";"+c+"=";var s=u.toString();if(u.prototype)if(-1!=s.indexOf("[native code]")){var f=s.indexOf(" ",8)+1;t+=s.slice(f,s.indexOf("(",f))}else for(var l in t+=s,u.prototype)t+=";"+c+".prototype."+l+"="+u.prototype[l].toString();else t+=s}else n[c]=u}return t},Lt=[],Rt=function(e,t,n,r){if(!Lt[n]){for(var o="",i={},a=e.length-1,u=0;u<a;++u)o=Bt(e[u],o,i);Lt[n]={c:Bt(e[a],o,i),e:i}}var c=Nt({},Lt[n].e);return function(e,t,n,r,o){var i=new Worker(it[t]||(it[t]=URL.createObjectURL(new Blob([e+';addEventListener("error",function(e){e=e.error;postMessage({$e$:[e.message,e.code,e.stack]})})'],{type:"text/javascript"}))));return i.onmessage=function(e){var t=e.data,n=t.$e$;if(n){var r=new Error(n[0]);r.code=n[1],r.stack=n[2],o(r,null)}else o(null,t)},i.postMessage(n,r),i}(Lt[n].c+";onmessage=function(e){for(var k in e.data)self[k]=e.data[k];onmessage="+t.toString()+"}",n,c,function(e){var t=[];for(var n in e)e[n].buffer&&t.push((e[n]=new e[n].constructor(e[n])).buffer);return t}(c),r)},Ft=function(){return[at,ut,ct,st,ft,lt,_t,mt,It,Tt,ht,Pt,wt,xt,Ot,kt,Et,jt,Dt,Mt,de,Ht,Ut]},Ht=function(e){return postMessage(e,[e.buffer])},Ut=function(e){return e&&{out:e.size&&new at(e.size),dictionary:e.dictionary}},Vt=function(e,t,n,r,o,i){var a=Rt(n,r,o,(function(e,t){a.terminate(),i(e,t)}));return a.postMessage([e,t],t.consume?[e.buffer]:[]),function(){a.terminate()}},Gt=function(e,t){return e[t]|e[t+1]<<8},Kt=function(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0},qt=function(e,t){return Kt(e,t)+4294967296*Kt(e,t+4)},zt="undefined"!=typeof TextDecoder&&new TextDecoder;try{zt.decode(Ct,{stream:!0}),1}catch(e){}var $t,Wt=function(e){for(var t="",n=0;;){var r=e[n++],o=(r>127)+(r>223)+(r>239);if(n+o>e.length)return{s:t,r:jt(e,n-1)};o?3==o?(r=((15&r)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536,t+=String.fromCharCode(55296|r>>10,56320|1023&r)):t+=String.fromCharCode(1&o?(31&r)<<6|63&e[n++]:(15&r)<<12|(63&e[n++])<<6|63&e[n++]):t+=String.fromCharCode(r)}},Xt=function(e,t){return t+30+Gt(e,t+26)+Gt(e,t+28)},Yt=function(e,t,n){var r=Gt(e,t+28),o=pe(e.subarray(t+46,t+46+r),!(2048&Gt(e,t+8))),i=t+46+r,a=Kt(e,t+20),u=n&&4294967295==a?Qt(e,i):[a,Kt(e,t+24),Kt(e,t+42)],c=u[0],s=u[1],f=u[2];return[Gt(e,t+10),c,s,o,i+Gt(e,t+30)+Gt(e,t+32),f]},Qt=function(e,t){for(;1!=Gt(e,t);t+=4+Gt(e,t+2));return[qt(e,t+12),qt(e,t+4),qt(e,t+20)]},Jt="function"==typeof queueMicrotask?queueMicrotask:"function"==typeof setTimeout?setTimeout:function(e){e()},Zt="plain",en="",tn={},nn=function(){},rn={init:function(){return ge.apply(this,arguments)},getAssetPath:be,loadInk:function(){return we.apply(this,arguments)},onProgress:function(e){nn=e}},on=n("aa6K"),an=n.n(on),un={init:function(e){($t=an.a.createInstance("".concat(e,"-atrament"))).config({name:e}),$t.setDriver([an.a.INDEXEDDB,an.a.LOCALSTORAGE])},exists:function(){return Ie.apply(this,arguments)},get:function(){return Te.apply(this,arguments)},set:function(){return xe.apply(this,arguments)},remove:function(){return Oe.apply(this,arguments)},keys:function(){return ke.apply(this,arguments)}},cn=n("Cj6n"),sn={},fn={},ln={init:function(e){je(e.mute),Pe(e.volume)},mute:je,isMuted:function(){return cn.Howler.muted},setVolume:Pe,getVolume:function(){return 100*cn.Howler.volume},playSound:function(e){sn[e]||(sn[e]=new cn.Howl({src:[e]})),sn[e].play()},stopSound:function(e){Ee(e,sn)},playMusic:function(e){fn[e]||(fn[e]=new cn.Howl({src:[e],html5:!0,loop:!(arguments.length>1&&void 0!==arguments[1])||arguments[1]})),fn[e].play()},stopMusic:function(e){Ee(e,fn)}},dn=[],pn=function(){var e,t,n,r=(t=[],n={get:function(){return n.lc||n.listen((function(){}))(),n.value},l:e||0,lc:0,listen:function(e,r){return n.lc=t.push(e,r||n.l)/2,function(){var r=t.indexOf(e);~r&&(t.splice(r,2),--n.lc||n.off())}},notify:function(e,r){for(var o=!dn.length,i=0;i<t.length;i+=2)dn.push(t[i],t[i+1],n.value,e,r);if(o){for(var a=0;a<dn.length;a+=5){for(var u=void 0,c=a+1;!u&&(c+=5)<dn.length;)dn[c]<dn[a+1]&&(u=dn.push(dn[a],dn[a+1],dn[a+2],dn[a+3],dn[a+4]));u||dn[a](dn[a+2],dn[a+3],dn[a+4])}dn.length=0}},off:function(){},set:function(e){var t=n.value;t!==e&&(n.value=e,n.notify(t))},subscribe:function(e,t){var r=n.listen(e,t);return e(n.value),r},value:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}},n);return r.setKey=function(e,t){var n=r.value;void 0===t&&e in r.value?(r.value=Ce({},r.value),delete r.value[e],r.notify(n,e)):r.value[e]!==t&&(r.value=Ce(Ce({},r.value),{},Ne({},e,t)),r.notify(n,e))},r}({settings:{},game:{},metadata:{},scenes:[],vars:{}});ot.defineInterfaces({loader:rn,persistent:un,sound:ln,state:{store:function(){return pn},get:function(){return pn.get()},setKey:function(e,t){return pn.setKey(e,t),pn.get()},toggleKey:function(e){return pn.setKey(e,!pn.get()[e]),pn.get()},appendKey:function(e,t){return pn.setKey(e,[].concat(He(pn.get()[e]),[t])),pn.get()},setSubkey:function(e,t,n){return pn.setKey(e,Re(Re({},pn.get()[e]),{},Fe({},t,n))),pn.get()},toggleSubkey:function(e,t){return pn.setKey(e,Re(Re({},pn.get()[e]),{},Fe({},t,!pn.get()[e][t]))),pn.get()},appendSubkey:function(e,t,n){return pn.setKey(e,Re(Re({},pn.get()[e]),{},Fe({},t,[].concat(He(pn.get()[e][t]),[n])))),pn.get()}}});t.default=ot},aa6K:function(e,t,n){(function(n){function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}var o,i,a;a=function(){return function e(t,n,r){function o(a){if(!n[a]){if(!t[a]){if(i)return i(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[a]={exports:{}};t[a][0].call(c.exports,(function(e){var n=t[a][1][e];return o(n||e)}),c,c.exports,e,t,n,r)}return n[a].exports}for(var i=!1,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,t){(function(e){"use strict";function n(){var e,t;o=!0;for(var n=f.length;n;){for(t=f,f=[],e=-1;++e<n;)t[e]();n=f.length}o=!1}var r,o,i=e.MutationObserver||e.WebKitMutationObserver;if(i){var a=0,u=new i(n),c=e.document.createTextNode("");u.observe(c,{characterData:!0}),r=function(){c.data=a=++a%2}}else if(e.setImmediate||void 0===e.MessageChannel)r="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){n(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(n,0)};else{var s=new e.MessageChannel;s.port1.onmessage=n,r=function(){s.port2.postMessage(0)}}var f=[];t.exports=function(e){1!==f.push(e)||o||r()}}).call(this,void 0!==n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,t){"use strict";function n(){}function o(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=_,this.queue=[],this.outcome=void 0,e!==n&&c(this,e)}function i(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function a(e,t,n){f((function(){var r;try{r=t(n)}catch(t){return l.reject(e,t)}r===e?l.reject(e,new TypeError("Cannot resolve promise with itself")):l.resolve(e,r)}))}function u(e){var t=e&&e.then;if(e&&("object"===r(e)||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function c(e,t){function n(t){o||(o=!0,l.reject(e,t))}function r(t){o||(o=!0,l.resolve(e,t))}var o=!1,i=s((function(){t(r,n)}));"error"===i.status&&n(i.value)}function s(e,t){var n={};try{n.value=e(t),n.status="success"}catch(e){n.status="error",n.value=e}return n}var f=e(1),l={},d=["REJECTED"],p=["FULFILLED"],_=["PENDING"];t.exports=o,o.prototype.catch=function(e){return this.then(null,e)},o.prototype.then=function(e,t){if("function"!=typeof e&&this.state===p||"function"!=typeof t&&this.state===d)return this;var r=new this.constructor(n);return this.state!==_?a(r,this.state===p?e:t,this.outcome):this.queue.push(new i(r,e,t)),r},i.prototype.callFulfilled=function(e){l.resolve(this.promise,e)},i.prototype.otherCallFulfilled=function(e){a(this.promise,this.onFulfilled,e)},i.prototype.callRejected=function(e){l.reject(this.promise,e)},i.prototype.otherCallRejected=function(e){a(this.promise,this.onRejected,e)},l.resolve=function(e,t){var n=s(u,t);if("error"===n.status)return l.reject(e,n.value);var r=n.value;if(r)c(e,r);else{e.state=p,e.outcome=t;for(var o=-1,i=e.queue.length;++o<i;)e.queue[o].callFulfilled(t)}return e},l.reject=function(e,t){e.state=d,e.outcome=t;for(var n=-1,r=e.queue.length;++n<r;)e.queue[n].callRejected(t);return e},o.resolve=function(e){return e instanceof this?e:l.resolve(new this(n),e)},o.reject=function(e){var t=new this(n);return l.reject(t,e)},o.all=function(e){function t(e,t){r.resolve(e).then((function(e){a[t]=e,++u!==o||i||(i=!0,l.resolve(s,a))}),(function(e){i||(i=!0,l.reject(s,e))}))}var r=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var o=e.length,i=!1;if(!o)return this.resolve([]);for(var a=new Array(o),u=0,c=-1,s=new this(n);++c<o;)t(e[c],c);return s},o.race=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var r=e.length,o=!1;if(!r)return this.resolve([]);for(var i=-1,a=new this(n);++i<r;)t.resolve(e[i]).then((function(e){o||(o=!0,l.resolve(a,e))}),(function(e){o||(o=!0,l.reject(a,e))}));return a}},{1:1}],3:[function(e){(function(t){"use strict";"function"!=typeof t.Promise&&(t.Promise=e(2))}).call(this,void 0!==n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2}],4:[function(e,t){"use strict";function n(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(o){if("TypeError"!==o.name)throw o;for(var n=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),r=0;r<e.length;r+=1)n.append(e[r]);return n.getBlob(t.type)}}function o(e,t){t&&e.then((function(e){t(null,e)}),(function(e){t(e)}))}function i(e,t,n){"function"==typeof t&&e.then(t),"function"==typeof n&&e.catch(n)}function a(e){return"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e)),e}function u(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}function c(e){return"boolean"==typeof M?P.resolve(M):function(e){return new P((function(t){var r=e.transaction(D,L),o=n([""]);r.objectStore(D).put(o,"key"),r.onabort=function(e){e.preventDefault(),e.stopPropagation(),t(!1)},r.oncomplete=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);t(n||!e||parseInt(e[1],10)>=43)}})).catch((function(){return!1}))}(e).then((function(e){return M=e}))}function s(e){var t=C[e.name],n={};n.promise=new P((function(e,t){n.resolve=e,n.reject=t})),t.deferredOperations.push(n),t.dbReady=t.dbReady?t.dbReady.then((function(){return n.promise})):n.promise}function f(e){var t=C[e.name].deferredOperations.pop();if(t)return t.resolve(),t.promise}function l(e,t){var n=C[e.name].deferredOperations.pop();if(n)return n.reject(t),n.promise}function d(e,t){return new P((function(n,r){if(C[e.name]=C[e.name]||{forages:[],db:null,dbReady:null,deferredOperations:[]},e.db){if(!t)return n(e.db);s(e),e.db.close()}var o=[e.name];t&&o.push(e.version);var i=j.open.apply(j,o);t&&(i.onupgradeneeded=function(t){var n=i.result;try{n.createObjectStore(e.storeName),t.oldVersion<=1&&n.createObjectStore(D)}catch(n){if("ConstraintError"!==n.name)throw n;console.warn('The database "'+e.name+'" has been upgraded from version '+t.oldVersion+" to version "+t.newVersion+', but the storage "'+e.storeName+'" already exists.')}}),i.onerror=function(e){e.preventDefault(),r(i.error)},i.onsuccess=function(){var t=i.result;t.onversionchange=function(e){e.target.close()},n(t),f(e)}}))}function p(e){return d(e,!1)}function _(e){return d(e,!0)}function v(e,t){if(!e.db)return!0;var n=!e.db.objectStoreNames.contains(e.storeName),r=e.version>e.db.version;if(e.version<e.db.version&&(e.version!==t&&console.warn('The database "'+e.name+"\" can't be downgraded from version "+e.db.version+" to version "+e.version+"."),e.version=e.db.version),r||n){if(n){var o=e.db.version+1;o>e.version&&(e.version=o)}return!0}return!1}function y(e){var t=function(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n),o=0;o<t;o++)r[o]=e.charCodeAt(o);return n}(atob(e.data));return n([t],{type:e.type})}function m(e){return e&&e.__local_forage_encoded_blob}function h(e){var t=this,n=t._initReady().then((function(){var e=C[t._dbInfo.name];if(e&&e.dbReady)return e.dbReady}));return i(n,e,e),n}function g(e,t,n,r){void 0===r&&(r=1);try{var o=e.db.transaction(e.storeName,t);n(null,o)}catch(o){if(r>0&&(!e.db||"InvalidStateError"===o.name||"NotFoundError"===o.name))return P.resolve().then((function(){if(!e.db||"NotFoundError"===o.name&&!e.db.objectStoreNames.contains(e.storeName)&&e.version<=e.db.version)return e.db&&(e.version=e.db.version+1),_(e)})).then((function(){return function(e){s(e);for(var t=C[e.name],n=t.forages,r=0;r<n.length;r++){var o=n[r];o._dbInfo.db&&(o._dbInfo.db.close(),o._dbInfo.db=null)}return e.db=null,p(e).then((function(t){return e.db=t,v(e)?_(e):t})).then((function(r){e.db=t.db=r;for(var o=0;o<n.length;o++)n[o]._dbInfo.db=r})).catch((function(t){throw l(e,t),t}))}(e).then((function(){g(e,t,n,r-1)}))})).catch(n);n(o)}}function b(e){var t,n,r,o,i,a=.75*e.length,u=e.length,c=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var s=new ArrayBuffer(a),f=new Uint8Array(s);for(t=0;t<u;t+=4)n=F.indexOf(e[t]),r=F.indexOf(e[t+1]),o=F.indexOf(e[t+2]),i=F.indexOf(e[t+3]),f[c++]=n<<2|r>>4,f[c++]=(15&r)<<4|o>>2,f[c++]=(3&o)<<6|63&i;return s}function w(e){var t,n=new Uint8Array(e),r="";for(t=0;t<n.length;t+=3)r+=F[n[t]>>2],r+=F[(3&n[t])<<4|n[t+1]>>4],r+=F[(15&n[t+1])<<2|n[t+2]>>6],r+=F[63&n[t+2]];return n.length%3==2?r=r.substring(0,r.length-1)+"=":n.length%3==1&&(r=r.substring(0,r.length-2)+"=="),r}function A(e,t,n,r){e.executeSql("CREATE TABLE IF NOT EXISTS "+t.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],n,r)}function S(e,t,n,r,o,i){e.executeSql(n,r,o,(function(e,a){a.code===a.SYNTAX_ERR?e.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[t.storeName],(function(e,u){u.rows.length?i(e,a):A(e,t,(function(){e.executeSql(n,r,o,i)}),i)}),i):i(e,a)}),i)}function I(e,t,n,r){var i=this;e=a(e);var u=new P((function(o,a){i.ready().then((function(){void 0===t&&(t=null);var u=t,c=i._dbInfo;c.serializer.serialize(t,(function(t,s){s?a(s):c.db.transaction((function(n){S(n,c,"INSERT OR REPLACE INTO "+c.storeName+" (key, value) VALUES (?, ?)",[e,t],(function(){o(u)}),(function(e,t){a(t)}))}),(function(t){if(t.code===t.QUOTA_ERR){if(r>0)return void o(I.apply(i,[e,u,n,r-1]));a(t)}}))}))})).catch(a)}));return o(u,n),u}function T(e,t){var n=e.name+"/";return e.storeName!==t.storeName&&(n+=e.storeName+"/"),n}function x(){return!function(){var e="_localforage_support_test";try{return localStorage.setItem(e,!0),localStorage.removeItem(e),!1}catch(e){return!0}}()||localStorage.length>0}function O(e,t){e[t]=function(){var n=arguments;return e.ready().then((function(){return e[t].apply(e,n)}))}}function k(){for(var e=1;e<arguments.length;e++){var t=arguments[e];if(t)for(var n in t)t.hasOwnProperty(n)&&(arguments[0][n]=oe(t[n])?t[n].slice():t[n])}return arguments[0]}var E="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function(e){return r(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":r(e)},j=function(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(e){return}}();"undefined"==typeof Promise&&e(3);var P=Promise,D="local-forage-detect-blob-support",M=void 0,C={},N=Object.prototype.toString,B="readonly",L="readwrite",R={_driver:"asyncStorage",_initStorage:function(e){function t(){return P.resolve()}var n=this,r={db:null};if(e)for(var o in e)r[o]=e[o];var i=C[r.name];i||(C[r.name]=i={forages:[],db:null,dbReady:null,deferredOperations:[]}),i.forages.push(n),n._initReady||(n._initReady=n.ready,n.ready=h);for(var a=[],u=0;u<i.forages.length;u++){var c=i.forages[u];c!==n&&a.push(c._initReady().catch(t))}var s=i.forages.slice(0);return P.all(a).then((function(){return r.db=i.db,p(r)})).then((function(e){return r.db=e,v(r,n._defaultConfig.version)?_(r):e})).then((function(e){r.db=i.db=e,n._dbInfo=r;for(var t=0;t<s.length;t++){var o=s[t];o!==n&&(o._dbInfo.db=r.db,o._dbInfo.version=r.version)}}))},_support:function(){try{if(!j||!j.open)return!1;var e="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),t="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!e||t)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(e){return!1}}(),iterate:function(e,t){var n=this,r=new P((function(t,r){n.ready().then((function(){g(n._dbInfo,B,(function(o,i){if(o)return r(o);try{var a=i.objectStore(n._dbInfo.storeName).openCursor(),u=1;a.onsuccess=function(){var n=a.result;if(n){var r=n.value;m(r)&&(r=y(r));var o=e(r,n.key,u++);void 0!==o?t(o):n.continue()}else t()},a.onerror=function(){r(a.error)}}catch(e){r(e)}}))})).catch(r)}));return o(r,t),r},getItem:function(e,t){var n=this;e=a(e);var r=new P((function(t,r){n.ready().then((function(){g(n._dbInfo,B,(function(o,i){if(o)return r(o);try{var a=i.objectStore(n._dbInfo.storeName).get(e);a.onsuccess=function(){var e=a.result;void 0===e&&(e=null),m(e)&&(e=y(e)),t(e)},a.onerror=function(){r(a.error)}}catch(e){r(e)}}))})).catch(r)}));return o(r,t),r},setItem:function(e,t,n){var r=this;e=a(e);var i=new P((function(n,o){var i;r.ready().then((function(){return i=r._dbInfo,"[object Blob]"===N.call(t)?c(i.db).then((function(e){return e?t:(n=t,new P((function(e,t){var r=new FileReader;r.onerror=t,r.onloadend=function(t){var r=btoa(t.target.result||"");e({__local_forage_encoded_blob:!0,data:r,type:n.type})},r.readAsBinaryString(n)})));var n})):t})).then((function(t){g(r._dbInfo,L,(function(i,a){if(i)return o(i);try{var u=a.objectStore(r._dbInfo.storeName);null===t&&(t=void 0);var c=u.put(t,e);a.oncomplete=function(){void 0===t&&(t=null),n(t)},a.onabort=a.onerror=function(){o(c.error?c.error:c.transaction.error)}}catch(e){o(e)}}))})).catch(o)}));return o(i,n),i},removeItem:function(e,t){var n=this;e=a(e);var r=new P((function(t,r){n.ready().then((function(){g(n._dbInfo,L,(function(o,i){if(o)return r(o);try{var a=i.objectStore(n._dbInfo.storeName).delete(e);i.oncomplete=function(){t()},i.onerror=function(){r(a.error)},i.onabort=function(){r(a.error?a.error:a.transaction.error)}}catch(e){r(e)}}))})).catch(r)}));return o(r,t),r},clear:function(e){var t=this,n=new P((function(e,n){t.ready().then((function(){g(t._dbInfo,L,(function(r,o){if(r)return n(r);try{var i=o.objectStore(t._dbInfo.storeName).clear();o.oncomplete=function(){e()},o.onabort=o.onerror=function(){n(i.error?i.error:i.transaction.error)}}catch(e){n(e)}}))})).catch(n)}));return o(n,e),n},length:function(e){var t=this,n=new P((function(e,n){t.ready().then((function(){g(t._dbInfo,B,(function(r,o){if(r)return n(r);try{var i=o.objectStore(t._dbInfo.storeName).count();i.onsuccess=function(){e(i.result)},i.onerror=function(){n(i.error)}}catch(e){n(e)}}))})).catch(n)}));return o(n,e),n},key:function(e,t){var n=this,r=new P((function(t,r){e<0?t(null):n.ready().then((function(){g(n._dbInfo,B,(function(o,i){if(o)return r(o);try{var a=i.objectStore(n._dbInfo.storeName),u=!1,c=a.openKeyCursor();c.onsuccess=function(){var n=c.result;n?0===e||u?t(n.key):(u=!0,n.advance(e)):t(null)},c.onerror=function(){r(c.error)}}catch(e){r(e)}}))})).catch(r)}));return o(r,t),r},keys:function(e){var t=this,n=new P((function(e,n){t.ready().then((function(){g(t._dbInfo,B,(function(r,o){if(r)return n(r);try{var i=o.objectStore(t._dbInfo.storeName).openKeyCursor(),a=[];i.onsuccess=function(){var t=i.result;t?(a.push(t.key),t.continue()):e(a)},i.onerror=function(){n(i.error)}}catch(e){n(e)}}))})).catch(n)}));return o(n,e),n},dropInstance:function(e,t){t=u.apply(this,arguments);var n,r=this.config();if((e="function"!=typeof e&&e||{}).name||(e.name=e.name||r.name,e.storeName=e.storeName||r.storeName),e.name){var i=e.name===r.name&&this._dbInfo.db?P.resolve(this._dbInfo.db):p(e).then((function(t){var n=C[e.name],r=n.forages;n.db=t;for(var o=0;o<r.length;o++)r[o]._dbInfo.db=t;return t}));n=i.then(e.storeName?function(t){if(t.objectStoreNames.contains(e.storeName)){var n=t.version+1;s(e);var r=C[e.name],o=r.forages;t.close();for(var i=0;i<o.length;i++){var a=o[i];a._dbInfo.db=null,a._dbInfo.version=n}var u=new P((function(t,r){var o=j.open(e.name,n);o.onerror=function(e){o.result.close(),r(e)},o.onupgradeneeded=function(){o.result.deleteObjectStore(e.storeName)},o.onsuccess=function(){var e=o.result;e.close(),t(e)}}));return u.then((function(e){r.db=e;for(var t=0;t<o.length;t++){var n=o[t];n._dbInfo.db=e,f(n._dbInfo)}})).catch((function(t){throw(l(e,t)||P.resolve()).catch((function(){})),t}))}}:function(t){s(e);var n=C[e.name],r=n.forages;t.close();for(var o=0;o<r.length;o++)r[o]._dbInfo.db=null;var i=new P((function(t,n){var r=j.deleteDatabase(e.name);r.onerror=function(){var e=r.result;e&&e.close(),n(r.error)},r.onblocked=function(){console.warn('dropInstance blocked for database "'+e.name+'" until all open connections are closed')},r.onsuccess=function(){var e=r.result;e&&e.close(),t(e)}}));return i.then((function(e){n.db=e;for(var t=0;t<r.length;t++)f(r[t]._dbInfo)})).catch((function(t){throw(l(e,t)||P.resolve()).catch((function(){})),t}))})}else n=P.reject("Invalid arguments");return o(n,t),n}},F="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",H=/^~~local_forage_type~([^~]+)~/,U="__lfsc__:",V="arbf",G="blob",K="si08",q="ui08",z="uic8",$="si16",W="si32",X="ur16",Y="ui32",Q="fl32",J="fl64",Z=Object.prototype.toString,ee={serialize:function(e,t){var n="";if(e&&(n=Z.call(e)),e&&("[object ArrayBuffer]"===n||e.buffer&&"[object ArrayBuffer]"===Z.call(e.buffer))){var r,o=U;e instanceof ArrayBuffer?(r=e,o+=V):(r=e.buffer,"[object Int8Array]"===n?o+=K:"[object Uint8Array]"===n?o+=q:"[object Uint8ClampedArray]"===n?o+=z:"[object Int16Array]"===n?o+=$:"[object Uint16Array]"===n?o+=X:"[object Int32Array]"===n?o+=W:"[object Uint32Array]"===n?o+=Y:"[object Float32Array]"===n?o+=Q:"[object Float64Array]"===n?o+=J:t(new Error("Failed to get type for BinaryArray"))),t(o+w(r))}else if("[object Blob]"===n){var i=new FileReader;i.onload=function(){var n="~~local_forage_type~"+e.type+"~"+w(this.result);t(U+G+n)},i.readAsArrayBuffer(e)}else try{t(JSON.stringify(e))}catch(n){console.error("Couldn't convert value into a JSON string: ",e),t(null,n)}},deserialize:function(e){if(e.substring(0,9)!==U)return JSON.parse(e);var t,r=e.substring(13),o=e.substring(9,13);if(o===G&&H.test(r)){var i=r.match(H);t=i[1],r=r.substring(i[0].length)}var a=b(r);switch(o){case V:return a;case G:return n([a],{type:t});case K:return new Int8Array(a);case q:return new Uint8Array(a);case z:return new Uint8ClampedArray(a);case $:return new Int16Array(a);case X:return new Uint16Array(a);case W:return new Int32Array(a);case Y:return new Uint32Array(a);case Q:return new Float32Array(a);case J:return new Float64Array(a);default:throw new Error("Unkown type: "+o)}},stringToBuffer:b,bufferToString:w},te={_driver:"webSQLStorage",_initStorage:function(e){var t=this,n={db:null};if(e)for(var r in e)n[r]="string"!=typeof e[r]?e[r].toString():e[r];var o=new P((function(e,r){try{n.db=openDatabase(n.name,String(n.version),n.description,n.size)}catch(e){return r(e)}n.db.transaction((function(o){A(o,n,(function(){t._dbInfo=n,e()}),(function(e,t){r(t)}))}),r)}));return n.serializer=ee,o},_support:"function"==typeof openDatabase,iterate:function(e,t){var n=this,r=new P((function(t,r){n.ready().then((function(){var o=n._dbInfo;o.db.transaction((function(n){S(n,o,"SELECT * FROM "+o.storeName,[],(function(n,r){for(var i=r.rows,a=i.length,u=0;u<a;u++){var c=i.item(u),s=c.value;if(s&&(s=o.serializer.deserialize(s)),void 0!==(s=e(s,c.key,u+1)))return void t(s)}t()}),(function(e,t){r(t)}))}))})).catch(r)}));return o(r,t),r},getItem:function(e,t){var n=this;e=a(e);var r=new P((function(t,r){n.ready().then((function(){var o=n._dbInfo;o.db.transaction((function(n){S(n,o,"SELECT * FROM "+o.storeName+" WHERE key = ? LIMIT 1",[e],(function(e,n){var r=n.rows.length?n.rows.item(0).value:null;r&&(r=o.serializer.deserialize(r)),t(r)}),(function(e,t){r(t)}))}))})).catch(r)}));return o(r,t),r},setItem:function(e,t,n){return I.apply(this,[e,t,n,1])},removeItem:function(e,t){var n=this;e=a(e);var r=new P((function(t,r){n.ready().then((function(){var o=n._dbInfo;o.db.transaction((function(n){S(n,o,"DELETE FROM "+o.storeName+" WHERE key = ?",[e],(function(){t()}),(function(e,t){r(t)}))}))})).catch(r)}));return o(r,t),r},clear:function(e){var t=this,n=new P((function(e,n){t.ready().then((function(){var r=t._dbInfo;r.db.transaction((function(t){S(t,r,"DELETE FROM "+r.storeName,[],(function(){e()}),(function(e,t){n(t)}))}))})).catch(n)}));return o(n,e),n},length:function(e){var t=this,n=new P((function(e,n){t.ready().then((function(){var r=t._dbInfo;r.db.transaction((function(t){S(t,r,"SELECT COUNT(key) as c FROM "+r.storeName,[],(function(t,n){var r=n.rows.item(0).c;e(r)}),(function(e,t){n(t)}))}))})).catch(n)}));return o(n,e),n},key:function(e,t){var n=this,r=new P((function(t,r){n.ready().then((function(){var o=n._dbInfo;o.db.transaction((function(n){S(n,o,"SELECT key FROM "+o.storeName+" WHERE id = ? LIMIT 1",[e+1],(function(e,n){var r=n.rows.length?n.rows.item(0).key:null;t(r)}),(function(e,t){r(t)}))}))})).catch(r)}));return o(r,t),r},keys:function(e){var t=this,n=new P((function(e,n){t.ready().then((function(){var r=t._dbInfo;r.db.transaction((function(t){S(t,r,"SELECT key FROM "+r.storeName,[],(function(t,n){for(var r=[],o=0;o<n.rows.length;o++)r.push(n.rows.item(o).key);e(r)}),(function(e,t){n(t)}))}))})).catch(n)}));return o(n,e),n},dropInstance:function(e,t){t=u.apply(this,arguments);var n=this.config();(e="function"!=typeof e&&e||{}).name||(e.name=e.name||n.name,e.storeName=e.storeName||n.storeName);var r,i=this;return o(r=e.name?new P((function(t){var r;r=e.name===n.name?i._dbInfo.db:openDatabase(e.name,"","",0),t(e.storeName?{db:r,storeNames:[e.storeName]}:function(e){return new P((function(t,n){e.transaction((function(r){r.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],(function(n,r){for(var o=[],i=0;i<r.rows.length;i++)o.push(r.rows.item(i).name);t({db:e,storeNames:o})}),(function(e,t){n(t)}))}),(function(e){n(e)}))}))}(r))})).then((function(e){return new P((function(t,n){e.db.transaction((function(r){function o(e){return new P((function(t,n){r.executeSql("DROP TABLE IF EXISTS "+e,[],(function(){t()}),(function(e,t){n(t)}))}))}for(var i=[],a=0,u=e.storeNames.length;a<u;a++)i.push(o(e.storeNames[a]));P.all(i).then((function(){t()})).catch((function(e){n(e)}))}),(function(e){n(e)}))}))})):P.reject("Invalid arguments"),t),r}},ne={_driver:"localStorageWrapper",_initStorage:function(e){var t={};if(e)for(var n in e)t[n]=e[n];return t.keyPrefix=T(e,this._defaultConfig),x()?(this._dbInfo=t,t.serializer=ee,P.resolve()):P.reject()},_support:function(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(e){return!1}}(),iterate:function(e,t){var n=this,r=n.ready().then((function(){for(var t=n._dbInfo,r=t.keyPrefix,o=r.length,i=localStorage.length,a=1,u=0;u<i;u++){var c=localStorage.key(u);if(0===c.indexOf(r)){var s=localStorage.getItem(c);if(s&&(s=t.serializer.deserialize(s)),void 0!==(s=e(s,c.substring(o),a++)))return s}}}));return o(r,t),r},getItem:function(e,t){var n=this;e=a(e);var r=n.ready().then((function(){var t=n._dbInfo,r=localStorage.getItem(t.keyPrefix+e);return r&&(r=t.serializer.deserialize(r)),r}));return o(r,t),r},setItem:function(e,t,n){var r=this;e=a(e);var i=r.ready().then((function(){void 0===t&&(t=null);var n=t;return new P((function(o,i){var a=r._dbInfo;a.serializer.serialize(t,(function(t,r){if(r)i(r);else try{localStorage.setItem(a.keyPrefix+e,t),o(n)}catch(e){"QuotaExceededError"!==e.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==e.name||i(e),i(e)}}))}))}));return o(i,n),i},removeItem:function(e,t){var n=this;e=a(e);var r=n.ready().then((function(){localStorage.removeItem(n._dbInfo.keyPrefix+e)}));return o(r,t),r},clear:function(e){var t=this,n=t.ready().then((function(){for(var e=t._dbInfo.keyPrefix,n=localStorage.length-1;n>=0;n--){var r=localStorage.key(n);0===r.indexOf(e)&&localStorage.removeItem(r)}}));return o(n,e),n},length:function(e){var t=this.keys().then((function(e){return e.length}));return o(t,e),t},key:function(e,t){var n=this,r=n.ready().then((function(){var t,r=n._dbInfo;try{t=localStorage.key(e)}catch(e){t=null}return t&&(t=t.substring(r.keyPrefix.length)),t}));return o(r,t),r},keys:function(e){var t=this,n=t.ready().then((function(){for(var e=t._dbInfo,n=localStorage.length,r=[],o=0;o<n;o++){var i=localStorage.key(o);0===i.indexOf(e.keyPrefix)&&r.push(i.substring(e.keyPrefix.length))}return r}));return o(n,e),n},dropInstance:function(e,t){if(t=u.apply(this,arguments),!(e="function"!=typeof e&&e||{}).name){var n=this.config();e.name=e.name||n.name,e.storeName=e.storeName||n.storeName}var r,i=this;return r=e.name?new P((function(t){t(e.storeName?T(e,i._defaultConfig):e.name+"/")})).then((function(e){for(var t=localStorage.length-1;t>=0;t--){var n=localStorage.key(t);0===n.indexOf(e)&&localStorage.removeItem(n)}})):P.reject("Invalid arguments"),o(r,t),r}},re=function(e,t){for(var n,r,o=e.length,i=0;i<o;){if((n=e[i])===(r=t)||"number"==typeof n&&"number"==typeof r&&isNaN(n)&&isNaN(r))return!0;i++}return!1},oe=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},ie={},ae={},ue={INDEXEDDB:R,WEBSQL:te,LOCALSTORAGE:ne},ce=[ue.INDEXEDDB._driver,ue.WEBSQL._driver,ue.LOCALSTORAGE._driver],se=["dropInstance"],fe=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(se),le={description:"",driver:ce.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1},de=function(){function e(e){for(var t in ue)if(ue.hasOwnProperty(t)){var n=ue[t],r=n._driver;this[t]=r,ie[r]||this.defineDriver(n)}this._defaultConfig=k({},le),this._config=k({},this._defaultConfig,e),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch((function(){}))}return e.prototype.config=function(e){if("object"===(void 0===e?"undefined":E(e))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var t in e){if("storeName"===t&&(e[t]=e[t].replace(/\W/g,"_")),"version"===t&&"number"!=typeof e[t])return new Error("Database version must be a number.");this._config[t]=e[t]}return!("driver"in e)||!e.driver||this.setDriver(this._config.driver)}return"string"==typeof e?this._config[e]:this._config},e.prototype.defineDriver=function(e,t,n){var r=new P((function(t,n){try{var r=e._driver,i=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!e._driver)return void n(i);for(var a=fe.concat("_initStorage"),u=0,c=a.length;u<c;u++){var s=a[u];if((!re(se,s)||e[s])&&"function"!=typeof e[s])return void n(i)}!function(){for(var t=function(e){return function(){var t=new Error("Method "+e+" is not implemented by the current driver"),n=P.reject(t);return o(n,arguments[arguments.length-1]),n}},n=0,r=se.length;n<r;n++){var i=se[n];e[i]||(e[i]=t(i))}}();var f=function(n){ie[r]&&console.info("Redefining LocalForage driver: "+r),ie[r]=e,ae[r]=n,t()};"_support"in e?e._support&&"function"==typeof e._support?e._support().then(f,n):f(!!e._support):f(!0)}catch(e){n(e)}}));return i(r,t,n),r},e.prototype.driver=function(){return this._driver||null},e.prototype.getDriver=function(e,t,n){var r=ie[e]?P.resolve(ie[e]):P.reject(new Error("Driver not found."));return i(r,t,n),r},e.prototype.getSerializer=function(e){var t=P.resolve(ee);return i(t,e),t},e.prototype.ready=function(e){var t=this,n=t._driverSet.then((function(){return null===t._ready&&(t._ready=t._initDriver()),t._ready}));return i(n,e,e),n},e.prototype.setDriver=function(e,t,n){function r(){a._config.driver=a.driver()}function o(e){return a._extend(e),r(),a._ready=a._initStorage(a._config),a._ready}var a=this;oe(e)||(e=[e]);var u=this._getSupportedDrivers(e),c=null!==this._driverSet?this._driverSet.catch((function(){return P.resolve()})):P.resolve();return this._driverSet=c.then((function(){var e=u[0];return a._dbInfo=null,a._ready=null,a.getDriver(e).then((function(e){a._driver=e._driver,r(),a._wrapLibraryMethodsWithReady(),a._initDriver=function(e){return function(){var t=0;return function n(){for(;t<e.length;){var i=e[t];return t++,a._dbInfo=null,a._ready=null,a.getDriver(i).then(o).catch(n)}r();var u=new Error("No available storage method found.");return a._driverSet=P.reject(u),a._driverSet}()}}(u)}))})).catch((function(){r();var e=new Error("No available storage method found.");return a._driverSet=P.reject(e),a._driverSet})),i(this._driverSet,t,n),this._driverSet},e.prototype.supports=function(e){return!!ae[e]},e.prototype._extend=function(e){k(this,e)},e.prototype._getSupportedDrivers=function(e){for(var t=[],n=0,r=e.length;n<r;n++){var o=e[n];this.supports(o)&&t.push(o)}return t},e.prototype._wrapLibraryMethodsWithReady=function(){for(var e=0,t=fe.length;e<t;e++)O(this,fe[e])},e.prototype.createInstance=function(t){return new e(t)},e}(),pe=new de;t.exports=pe},{3:3}]},{},[4])(4)},"object"===r(t)&&void 0!==e?e.exports=a():void 0===(i="function"==typeof(o=a)?o.apply(t,[]):o)||(e.exports=i)}).call(this,n("pCvA"))},pCvA:function(e){function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"===("undefined"==typeof window?"undefined":t(window))&&(n=window)}e.exports=n}}]);
//# sourceMappingURL=atrament.chunk.00254.js.map