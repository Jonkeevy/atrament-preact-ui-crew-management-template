(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"/9ec":function(t,n,e){"use strict";var r=e("hosL"),o={container_text:"container_text__ZXoDQ"};n.a=function(t){var n=t.children,e=t.fontSize;return Object(r.h)("div",{class:[o.container_text,"atrament-text-container"].join(" "),style:{"font-size":"".concat(e,"%")}},n)}},"1yvx":function(t,n){"use strict";n.a={settings_sound_container:"settings_sound_container__WoyeI",settings_sound_input_container:"settings_sound_input_container__axpip",settings_sound_volume:"settings_sound_volume__cNUs2",settings_sound_icon:"settings_sound_icon__hUeu9"}},"4tvA":function(t,n,e){"use strict";var r=e("hosL"),o="checkbox_wrapper__-wNzj",i="checkbox__XUrp9";n.a=function(t){var n=t.enabled,e=t.onChange;return Object(r.h)("div",{class:o},Object(r.h)("input",{type:"checkbox",class:i,checked:n,onChange:e}))}},"8r8V":function(t,n,e){"use strict";(function(t){var r=e("hosL"),o=e("1yvx"),i=e("4tvA"),a=e("PPdB");n.a=function(){var n=Object(a.a)(),e=n.updateSettings,c=n.state.settings,u=c.mute,l=c.volume;return Object(r.h)(t,null,Object(r.h)("div",{class:[o.a.settings_sound,"atrament-settings-sound"].join(" ")},Object(r.h)(i.a,{enabled:!u,onChange:function(t){return e("mute",!t.target.checked)}})," Sound"),Object(r.h)("div",{class:o.a.settings_sound_container},Object(r.h)("div",{class:o.a.settings_sound_icon},"ðŸ”‰"),Object(r.h)("div",{class:o.a.settings_sound_input_container},Object(r.h)("input",{class:o.a.settings_sound_volume,disabled:u,type:"range",min:"0",max:"100",value:l,onChange:function(t){return e("volume",t.target.value)}})),Object(r.h)("div",{class:o.a.settings_sound_icon},"ðŸ”Š")))}}).call(this,e("hosL").Fragment)},Ahal:function(t,n,e){"use strict";var r=e("hosL"),o="block__5Kw+w",i="block_start__qEaDh",a="block_end__ZWY1I";n.a=function(t){var n=t.children,e=t.align,c=[o];return"start"===e?c.push(i):"end"===e&&c.push(a),c.push("atrament-block"),Object(r.h)("div",{class:c.join(" ")},n)}},HFWW:function(t,n,e){"use strict";var r=e("hosL"),o="link_home__T3cHG";n.a=function(t){var n=t.onClick;return Object(r.h)("button",{key:"mainmenu",onClick:n,class:o},"The end")}},PPdB:function(t,n,e){"use strict";function r(t){return function(t){if(Array.isArray(t))return o(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,n){if(!t)return;if("string"==typeof t)return o(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return o(t,n)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}function i(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){var e=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var r,o,i,a,c=[],u=!0,l=!1;try{if(i=(e=e.call(t)).next,0===n){if(Object(e)!==e)return;u=!1}else for(;!(u=(r=i.call(e)).done)&&(c.push(r.value),c.length!==n);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=e.return&&(a=e.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(t,n)||function(t,n){if(!t)return;if("string"==typeof t)return a(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return a(t,n)}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}function c(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=i(Object(u.e)({}),2)[1],o=i(Object(u.e)(t.get()),1)[0];return Object(u.c)((function(){o!==t.get()&&e({})}),[]),Object(u.c)((function(){var o,i,a,c,u,l,s=function(){o||(o=1,i=setTimeout((function(){o=void 0,e({})})))};return n.keys?(c=t,u=s,l=new Set([].concat(r(n.keys),[void 0])),a=c.listen((function(t,n,e){l.has(e)&&u(t,n,e)}))):a=t.listen(s),function(){a(),clearTimeout(i)}}),[t,""+n.keys]),t.get()}var u=e("QRet"),l=e("1+2A");n.a=function(){var t=Object(u.b)(l.a),n=c(t.store);return{atrament:t,state:n,canResume:t.game.canResume,gameStart:t.game.start,gameResume:t.game.resume,makeChoice:t.game.makeChoice,continueStory:t.game.continueStory,updateSettings:function(n,e){t.settings.set(n,e),t.settings.save()}}}},Qbkp:function(t,n,e){"use strict";(function(t){function r(t,n,e,r,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void e(t)}c.done?n(u):Promise.resolve(u).then(r,o)}function o(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){var e=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var r,o,i,a,c=[],u=!0,l=!1;try{if(i=(e=e.call(t)).next,0===n){if(Object(e)!==e)return;u=!1}else for(;!(u=(r=i.call(e)).done)&&(c.push(r.value),c.length!==n);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=e.return&&(a=e.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(t,n)||function(t,n){if(!t)return;if("string"==typeof t)return i(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return i(t,n)}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}var a=e("hosL"),c=e("QRet"),u=e("/Mq+"),l=e("PPdB"),s=e("HFWW"),f=e("TGxn"),h=e("YDUw");n.a=function(n){var e=n.currentScene,i=n.isReady,d=n.setReady,b=Object(l.a)(),m=b.atrament,v=b.makeChoice,y=b.continueStory,p=o(Object(c.e)(null),2),g=p[0],_=p[1],j=e&&e.choices?e.choices.length:-1,O=Object(c.a)((function(t){var n=j>1?500:200;_(t),setTimeout((function(){setTimeout((function(){_(null),d(!1),v(t),y()}),n)}),0)}),[v,y,d,j]),w=function(){var t,n=(t=function*(){yield m.game.removeSave(),Object(u.b)("/")},function(){var n=this,e=arguments;return new Promise((function(o,i){function a(t){r(u,o,i,a,c,"next",t)}function c(t){r(u,o,i,a,c,"throw",t)}var u=t.apply(n,e);a(void 0)}))});return function(){return n.apply(this,arguments)}}();if(j>=0){var S="choices-".concat(e.uuid);return Object(a.h)(f.a,{isReady:i,key:S},0===j?Object(a.h)(s.a,{onClick:w}):e.choices.map((function(t,n){return Object(a.h)(h.a,{key:"".concat(S,"-").concat(n),choice:t,chosen:g,handleClick:O})})))}return Object(a.h)(t,null)}}).call(this,e("hosL").Fragment)},TGxn:function(t,n,e){"use strict";var r=e("hosL"),o={container_choices:"container_choices__rTNjy"},i=e("Ahal");n.a=function(t){var n=t.children,e=t.key,a=t.isReady;return Object(r.h)("div",{key:e,class:[o.container_choices,"atrament-container-choices",a?"animation_appear":""].join(" ")},Object(r.h)("div",{style:{opacity:a?1:0}},Object(r.h)(i.a,null,n)))}},YDUw:function(t,n,e){"use strict";var r=e("hosL"),o="choice_button__iUkM9",i="choice_active__sTdj7",a="choice_inactive__v9EHC";n.a=function(t){var n=t.choice,e=t.chosen,c=t.handleClick,u=null!==e,l=e===n.id;return Object(r.h)("button",{class:"".concat(o," ").concat(u?l?i:a:""),onClick:function(){u||c(n.id)},dangerouslySetInnerHTML:{__html:n.choice}})}},"i+1S":function(t,n,e){"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,n){this.scrollLeft=t,this.scrollTop=n}function i(){var t,n;return i=n=(null===(t=window.performance)||void 0===t?void 0:t.now)?function(){return window.performance.now()}:function(){return window.Date.now()},n()}function a(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){var e=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var r,o,i,a,c=[],u=!0,l=!1;try{if(i=(e=e.call(t)).next,0===n){if(Object(e)!==e)return;u=!1}else for(;!(u=(r=i.call(e)).done)&&(c.push(r.value),c.length!==n);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=e.return&&(a=e.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(t,n)||function(t,n){if(!t)return;if("string"==typeof t)return c(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return c(t,n)}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}function u(){return u=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},u.apply(this,arguments)}function l(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){var e=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var r,o,i,a,c=[],u=!0,l=!1;try{if(i=(e=e.call(t)).next,0===n){if(Object(e)!==e)return;u=!1}else for(;!(u=(r=i.call(e)).done)&&(c.push(r.value),c.length!==n);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=e.return&&(a=e.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(t,n)||function(t,n){if(!t)return;if("string"==typeof t)return s(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return s(t,n)}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}function f(t,n){var e="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=function(t,n){if(!t)return;if("string"==typeof t)return h(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return h(t,n)}(t))||n&&t&&"number"==typeof t.length){e&&(t=e);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){e=e.call(t)},n:function(){var t=e.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==e.return||e.return()}finally{if(c)throw i}}}}function h(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}function d(t,n,e,r,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void e(t)}c.done?n(u):Promise.resolve(u).then(r,o)}function b(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){var e=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var r,o,i,a,c=[],u=!0,l=!1;try{if(i=(e=e.call(t)).next,0===n){if(Object(e)!==e)return;u=!1}else for(;!(u=(r=i.call(e)).done)&&(c.push(r.value),c.length!==n);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=e.return&&(a=e.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(t,n)||function(t,n){if(!t)return;if("string"==typeof t)return m(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return m(t,n)}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}function v(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){var e=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var r,o,i,a,c=[],u=!0,l=!1;try{if(i=(e=e.call(t)).next,0===n){if(Object(e)!==e)return;u=!1}else for(;!(u=(r=i.call(e)).done)&&(c.push(r.value),c.length!==n);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=e.return&&(a=e.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(t,n)||function(t,n){if(!t)return;if("string"==typeof t)return y(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return y(t,n)}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}e.r(n);var p=e("hosL"),g=e("QRet"),_=e("PPdB"),j=e("DsiZ"),O=e("wCXt"),w={toolbar:"toolbar__tGgh+"},S=function(t){var n=t.children;return Object(p.h)("div",{class:[w.toolbar,"atrament-toolbar"].join(" ")},n)},A=e("/9ec"),k={container_scenes:"container_scenes__i3bAO"},C=function(t){var n=t.children;return Object(p.h)("div",{class:[k.container_scenes,"atrament-container-scene"].join(" ")},n)},I={scene:"scene__YsY+g"},E=function(t){return void 0===t||"auto"===t||"instant"===t||"smooth"===t},T=function(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"cannot convert to dictionary.";return"Failed to execute '".concat(t,"' on '").concat(n,"': ").concat(e)},x=function(t,n,e){return T(t,n,"The provided value '".concat(e,"' is not a valid enum value of type ScrollBehavior."))},L=function(t,n,e){var r,o="__SEAMLESS.BACKUP$".concat(n);return t[o]||!t[n]||(null===(r=t[n])||void 0===r?void 0:r.__isPolyfill)||(t[o]=t[n]),t[o]||e},M=function(t){return t.ownerDocument.scrollingElement||t.ownerDocument.documentElement},P=function(t){return.5*(1-Math.cos(Math.PI*t))},z=function t(n){var e=(i()-n.timeStamp)/(n.duration||500);if(e>1)return n.method(n.targetX,n.targetY),void n.callback();var r=(n.timingFunc||P)(e);n.method(n.startX+(n.targetX-n.startX)*r,n.startY+(n.targetY-n.startY)*r),n.rafId=window.requestAnimationFrame((function(){t(n)}))},U=function(t){return isFinite(t)?Number(t):0},D=function(t,n,e){var r,a;if(function(t){var n;return null!==(n=t.isConnected)&&void 0!==n?n:!(t.ownerDocument&&1&t.ownerDocument.compareDocumentPosition(t))}(t)){var c=t.scrollLeft,l=t.scrollTop,s=U(null!==(r=n.left)&&void 0!==r?r:c),f=U(null!==(a=n.top)&&void 0!==a?a:l);if(s!==c||f!==l){var h=L(HTMLElement.prototype,"scroll",o),d=L(Object.getPrototypeOf(t),"scroll",h).bind(t);if("smooth"===n.behavior){var b=function(){window.removeEventListener("wheel",v),window.removeEventListener("touchmove",v)},m=u(u({},e),{timeStamp:i(),startX:c,startY:l,targetX:s,targetY:f,rafId:0,method:d,callback:function(){b(),t.dispatchEvent(function(t){if("function"==typeof Event)return new Event("scrollend",{bubbles:t,cancelable:!1});var n=document.createEvent("Event");return n.initEvent("scrollend",t,!1),n}(9===t.nodeType))}}),v=function(){window.cancelAnimationFrame(m.rafId),b()};window.addEventListener("wheel",v,{passive:!0,once:!0}),window.addEventListener("touchmove",v,{passive:!0,once:!0}),z(m)}else d(s,f)}}},W=function(t){return function(n,e,o){var i,c,u,l=a((i=n).window===i?[M(n.document.documentElement),"Window"]:[n,"Element"],2),s=l[0],f=l[1],h=null!=e?e:{};if(u=r(c=h),null===c||"object"!==u&&"function"!==u)throw new TypeError(T(t,f));if(!E(h.behavior))throw new TypeError(x(t,f,h.behavior));"scrollBy"===t&&(h.left=U(h.left)+s.scrollLeft,h.top=U(h.top)+s.scrollTop),D(s,h,o)}},H=W("scroll"),R=H,X=function(t){switch(t){case"horizontal-tb":case"lr":case"lr-tb":case"rl":case"rl-tb":return 0;case"vertical-rl":case"tb":case"tb-rl":return 1;case"vertical-lr":case"tb-lr":return 2;case"sideways-rl":return 3;case"sideways-lr":return 4}return 0},Y=function(t,n,e,r){var o=0;switch(n||(o^=2),t){case 0:o=o>>1|(1&o)<<1;var i=[r,e];e=i[0],r=i[1];break;case 1:case 3:o^=1;break;case 4:o^=2}return[o,e,r]},V=function(t){return!(1&~Y(X(t.writingMode),"rtl"!==t.direction,void 0,void 0)[0])},B=function(t,n,e,r,o,i,a){return 0!==t?t:o<n&&i>e||o>n&&i<e?null:o<=n&&a<=r||i>=e&&a>=r?2:i>e&&a<r||o<n&&a>r?3:null},F=function(t){return"visible"!==t&&"clip"!==t},$=function(t,n){return(t.clientHeight<t.scrollHeight||t.clientWidth<t.scrollWidth)&&(F(n.overflowY)||F(n.overflowX)||t===M(t))},G=function(t){var n=t.parentNode,e=t.parentElement;if(null===e&&null!==n){if(11===n.nodeType)return n.host;if(9===n.nodeType)return function(t){var n;try{return(null===(n=t.ownerDocument.defaultView)||void 0===n?void 0:n.frameElement)||null}catch(t){return null}}(t)}return e},N=function(t,n,e){return t<n?n:t>e?e:t},Q=function(t,n,e){switch(t){case 1:return(n+e)/2;case 3:return e;case 2:case 0:return n}},J=function(t,n){var e,r,o,i=null===(e=t.ownerDocument.defaultView)||void 0===e?void 0:e.visualViewport,a=l(t===M(t)?[0,0,null!==(r=null==i?void 0:i.width)&&void 0!==r?r:t.clientWidth,null!==(o=null==i?void 0:i.height)&&void 0!==o?o:t.clientHeight]:[n.left,n.top,t.clientWidth,t.clientHeight],4),c=a[0]+t.clientLeft,u=a[1]+t.clientTop;return[u,c+a[2],u+a[3],c]},Z=function(t,n){var e=[],r=t.ownerDocument,o=r.defaultView;if(!o)return e;for(var i=window.getComputedStyle(t),a="rtl"!==i.direction,c=function(t,n,e){var r=l(Y(n,e,t.block||"start",t.inline||"nearest"),3),o=r[0];return[r[1],r[2]].map((function(t,n){switch(t){case"center":return 1;case"nearest":return 0;default:return"start"===t==!(o>>n&1)?2:3}}))}(n,X(i.writingMode||i.getPropertyValue("-webkit-writing-mode")||i.getPropertyValue("-ms-writing-mode")),a),u=l(c,2),s=u[0],f=u[1],h=function(t,n,e){var r,o=n.top,i=n.right,a=n.bottom,c=n.left,u=(r=t.ownerDocument,["scroll-margin","scroll-snap-margin"].filter((function(t){return t in r.documentElement.style}))[0]);if(!u)return[o,i,a,c];var l=function(t){var n=e.getPropertyValue("".concat(u,"-").concat(t));return parseInt(n,10)||0};return[o-l("top"),i+l("right"),a+l("bottom"),c-l("left")]}(t,t.getBoundingClientRect(),i),d=l(h,4),b=d[0],m=d[1],v=d[2],y=d[3],p=G(t);null!==p;p=G(p)){if(r!==p.ownerDocument){if(!(o=(r=p.ownerDocument).defaultView))break;var g=p.getBoundingClientRect(),_=g.left,j=g.top;b+=j,m+=_,v+=j,y+=_}var O=o.getComputedStyle(p);if("fixed"===O.position)break;if($(p,O)){var w=p.getBoundingClientRect(),S=l(J(p,w),4),A=S[0],k=S[1],C=S[2],I=S[3],E=B(s,I,k,p.clientWidth,y,m,m-y),T=B(f,A,C,p.clientHeight,b,v,v-b),x=null===E?0:Q(E,y,m)-Q(E,I,k),L=null===T?0:Q(T,b,v)-Q(T,A,C),M=V(O)?N(x,-p.scrollWidth+p.clientWidth-p.scrollLeft,-p.scrollLeft):N(x,-p.scrollLeft,p.scrollWidth-p.clientWidth-p.scrollLeft),P=N(L,-p.scrollTop,p.scrollHeight-p.clientHeight-p.scrollTop);e.push([p,{left:p.scrollLeft+M,top:p.scrollTop+P,behavior:n.behavior}]),b=Math.max(b-P,A),m=Math.min(m-M,k),v=Math.min(v-P,C),y=Math.max(y-M,I)}}return e},q=function(t,n,e){var r=n||{};if(!E(r.behavior))throw new TypeError(x("scrollIntoView","Element",r.behavior));Z(t,r).forEach((function(t){var n=l(t,2);R(n[0],n[1],e)}))},K={imagebox:"imagebox__XCLvI",image:"image__DtVyK"},tt=function(t){var n=t.src;return n?Object(p.h)("div",{class:[K.imagebox,"atrament-image-container"].join(" ")},Object(p.h)("img",{src:n,class:[K.image,"atrament-image"].join(" ")})):""},nt=function(t){var n,e=t.content;return t.isCurrent||(n={opacity:"70%"}),"\n"===e?"":Object(p.h)("p",{style:n,dangerouslySetInnerHTML:{__html:e}})},et=e("UGP6"),rt=function(t){var n=t.scene,e=t.isCurrent,r=t.isSingle,o=t.readyHandler,i=b(Object(g.e)(!1),2),a=i[0],c=i[1],u=Object(g.d)(null),l=Object(g.a)((function(t){o(!0),setTimeout((function(){q(u.current,{behavior:t,block:"start"},{duration:300})}),100)}),[o]);return Object(g.c)((function(){a&&e&&l(r?"instant":"smooth")}),[a,e,r,l]),Object(g.c)((function(){var t=function(){var t,e=(t=function*(){yield function(t,n){var e,r=[],o=f(n);try{var i=function(){var n=e.value;r.push(new Promise((function(e){var r=new Image;r.onload=e,r.onerror=e,r.src=t(n)})))};for(o.s();!(e=o.n()).done;)i()}catch(t){o.e(t)}finally{o.f()}return Promise.allSettled(r)}(et.a,n.images),c(!0)},function(){var n=this,e=arguments;return new Promise((function(r,o){function i(t){d(c,r,o,i,a,"next",t)}function a(t){d(c,r,o,i,a,"throw",t)}var c=t.apply(n,e);i(void 0)}))});return function(){return e.apply(this,arguments)}}();t()}),[n,c]),Object(p.h)("div",{class:[I.scene,"atrament-scene",e&&a?"animation_appear":""].join(" "),ref:u},Object(p.h)("div",{style:{opacity:a?1:0}},n.content.map((function(t,r){return Object(p.h)(p.Fragment,{key:"paragraph-".concat(n.uuid,"-").concat(r)},Object(p.h)(tt,{src:Object(et.a)(t.image)}),Object(p.h)(nt,{isCurrent:e,content:t.text}))}))))},ot=e("Qbkp"),it=function(){var t=Object(_.a)().state,n=v(Object(g.e)(!1),2),e=n[0],r=n[1],o=t.scenes.length-1,i=t.scenes[o];return Object(p.h)(A.a,{fontSize:t.settings.fontSize},Object(p.h)(C,null,t.scenes.map((function(t,n){return Object(p.h)(rt,{key:t.uuid,scene:t,isCurrent:n===o,isSingle:0===o,readyHandler:r})}))),Object(p.h)(ot.a,{currentScene:i,isReady:e,setReady:r}))};n.default=function(){var t=Object(_.a)(),n=t.state,e=t.continueStory;return Object(g.c)((function(){e()}),[e]),Object(p.h)(j.a,null,Object(p.h)(O.a,null),Object(p.h)(S,null,n.metadata.title),Object(p.h)(it,null))}},wCXt:function(t,n,e){"use strict";function r(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){var e=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var r,o,i,a,c=[],u=!0,l=!1;try{if(i=(e=e.call(t)).next,0===n){if(Object(e)!==e)return;u=!1}else for(;!(u=(r=i.call(e)).done)&&(c.push(r.value),c.length!==n);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=e.return&&(a=e.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(t,n)||function(t,n){if(!t)return;if("string"==typeof t)return o(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return o(t,n)}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}function i(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){var e=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var r,o,i,a,c=[],u=!0,l=!1;try{if(i=(e=e.call(t)).next,0===n){if(Object(e)!==e)return;u=!1}else for(;!(u=(r=i.call(e)).done)&&(c.push(r.value),c.length!==n);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=e.return&&(a=e.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(t,n)||function(t,n){if(!t)return;if("string"==typeof t)return a(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return a(t,n)}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}function c(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){var e=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var r,o,i,a,c=[],u=!0,l=!1;try{if(i=(e=e.call(t)).next,0===n){if(Object(e)!==e)return;u=!1}else for(;!(u=(r=i.call(e)).done)&&(c.push(r.value),c.length!==n);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=e.return&&(a=e.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(t,n)||function(t,n){if(!t)return;if("string"==typeof t)return u(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return u(t,n)}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}for(var l=e("hosL"),s="settings_container__u7wMh",f="settings_toggle__GG4xN",h=e("QRet"),d={backdrop:"backdrop__m+OYW"},b=function(t){var n=t.onClick;return Object(l.h)("div",{class:[d.backdrop,"atrament-backdrop"].join(" "),onClick:n})},m={modal:"modal__q1MeB"},v=function(t){var n=t.children;return Object(l.h)("div",{class:[m.modal,"atrament-modal"].join(" ")},n)},y="close__w21r1",p=function(t){var n=t.onClick;return Object(l.h)("div",{class:y},Object(l.h)("button",{onClick:n,title:"Close"},"âœ•"))},g=e("8r8V"),_={settings_fontsize_container:"settings_fontsize_container__FyyGe",settings_font_a:"settings_font_a__bZJJw",settings_fontsize_input_container:"settings_fontsize_input_container__VNMn2",settings_fontsize_input:"settings_fontsize_input__s0YXN",settings_font_sample:"settings_font_sample__2n2cX"},j=e("PPdB"),O=e("xPX6"),w=e("bHSc"),S=[],A=O.h;A<=O.g;A+=O.j)S.push(A);var k=function(){var t=Object(j.a)(),n=t.updateSettings,e=t.state.settings,r=e.font,o=e.fontSize;return Object(l.h)("div",{class:[_.settings_text,"atrament-settings-text"].join(" ")},Object(l.h)("div",{class:_.settings_fontsize_container},Object(l.h)("div",{class:_.settings_font_a,style:{"font-size":"".concat(O.h,"%")}},"A"),Object(l.h)("div",{class:_.settings_fontsize_input_container},Object(l.h)("input",{class:_.settings_fontsize_input,type:"range",min:O.h,max:O.g,step:O.j,value:o||O.b,onInput:function(t){return n("fontSize",t.target.value)},list:"fontSizes"}),Object(l.h)("datalist",{id:"fontSizes"},S.map((function(t){return Object(l.h)("option",{key:t,value:t})})))),Object(l.h)("div",{class:_.settings_font_a,style:{"font-size":"".concat(O.g,"%")}},"A")),Object(l.h)("div",{class:_.settings_font_sample,style:{"font-size":"".concat(o,"%"),"font-family":w.b[r]}},O.i))},C={settings_font_container:"settings_font_container__XUIDw"},I=function(){var t=Object(j.a)(),n=t.updateSettings,e=t.state.settings.font;return Object(l.h)("div",{class:[C.settings_font_container,"atrament-settings-font"].join(" ")},Object(l.h)("select",{onChange:function(t){return n("font",t.target.value)},style:{"font-family":w.b[e]}},Object.entries(w.b).map((function(t){var n=r(t,2),o=n[0],i=n[1];return Object(l.h)("option",{key:o,value:o,style:{"font-family":i},selected:e===o},o)}))))},E={settings_theme_container:"settings_theme_container__ZF0WE",settings_theme_button:"settings_theme_button__+oQkm"},T=e("JPaj"),x=function(t){var n=t.themeId,e=t.themeConfig,r=t.onClick,o={color:e["--fg-color"],"background-color":e["--bg-color"]};return Object(l.h)("button",{class:E.settings_theme_button,style:o,onClick:r,"data-theme-id":n},n)},L=function(){var t=Object(j.a)().updateSettings,n=function(n){return t("theme",n.target.attributes["data-theme-id"].value)};return Object(l.h)("div",{class:[E.settings_theme_container,"atrament-settings-theme"].join(" ")},Object.entries(T.b).map((function(t){var e=i(t,2),r=e[0],o=e[1];return Object(l.h)(x,{key:r,themeId:r,themeConfig:o,onClick:n})})))},M=e("4tvA"),P=function(){var t=Object(j.a)(),n=t.state,e=t.updateSettings;return Object(l.h)("div",{class:["atrament-settings-animation"].join(" ")},Object(l.h)(M.a,{enabled:n.settings.animation,onChange:function(t){return e("animation",t.target.checked)}})," Animations")},z="settings_about__rS73I",U=function(){var t=Object(j.a)().atrament;return Object(l.h)("div",{class:z},"atrament ",t.version)};n.a=function(){var t=c(Object(h.e)(!1),2),n=t[0],e=t[1],r=Object(h.a)((function(){return e(!n)}),[n]),o=Object(h.a)((function(t){"Escape"===t.key&&e(!1)}),[]);return Object(h.c)((function(){return document.addEventListener("keydown",o,!1),function(){document.removeEventListener("keydown",o,!1)}}),[o]),n?Object(l.h)("div",{class:s},Object(l.h)(b,{onClick:r}),Object(l.h)(v,null,Object(l.h)(p,{onClick:r}),Object(l.h)(P,null),Object(l.h)(g.a,null),Object(l.h)(I,null),Object(l.h)(k,null),Object(l.h)(L,null),Object(l.h)(U,null))):Object(l.h)("button",{class:f,onClick:r},"â˜°")}}}]);
//# sourceMappingURL=route-game.chunk.7c755.js.map