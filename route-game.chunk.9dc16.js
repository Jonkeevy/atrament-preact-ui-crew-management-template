(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"1yvx":function(t,n){"use strict";n.a={settings_sound_container:"settings_sound_container__WoyeI",settings_sound_input_container:"settings_sound_input_container__axpip",settings_sound_volume:"settings_sound_volume__cNUs2",settings_sound_icon:"settings_sound_icon__hUeu9"}},"4tvA":function(t,n,e){"use strict";var r=e("hosL"),o="checkbox_wrapper__-wNzj",i="checkbox__XUrp9";n.a=function(t){var n=t.enabled,e=t.onChange;return Object(r.h)("div",{class:o},Object(r.h)("input",{type:"checkbox",class:i,checked:n,onChange:e}))}},"8r8V":function(t,n,e){"use strict";(function(t){var r=e("hosL"),o=e("1yvx"),i=e("4tvA"),a=e("PPdB");n.a=function(){var n=Object(a.a)(),e=n.updateSettings,c=n.state.settings,u=c.mute,s=c.volume;return Object(r.h)(t,null,Object(r.h)("div",{class:[o.a.settings_sound,"atrament-settings-sound"].join(" ")},Object(r.h)(i.a,{enabled:!u,onChange:function(t){return e("mute",!t.target.checked)}})," Sound"),Object(r.h)("div",{class:o.a.settings_sound_container},Object(r.h)("div",{class:o.a.settings_sound_icon},"ðŸ”‰"),Object(r.h)("div",{class:o.a.settings_sound_input_container},Object(r.h)("input",{class:o.a.settings_sound_volume,disabled:u,type:"range",min:"0",max:"100",value:s,onChange:function(t){return e("volume",t.target.value)}})),Object(r.h)("div",{class:o.a.settings_sound_icon},"ðŸ”Š")))}}).call(this,e("hosL").Fragment)},Ahal:function(t,n,e){"use strict";var r=e("hosL"),o="block__5Kw+w",i="block_start__qEaDh",a="block_end__ZWY1I";n.a=function(t){var n=t.children,e=t.align,c=[o];return"start"===e?c.push(i):"end"===e&&c.push(a),c.push("atrament-block"),Object(r.h)("div",{class:c.join(" ")},n)}},PPdB:function(t,n,e){"use strict";function r(t){return function(t){if(Array.isArray(t))return o(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,n){if(!t)return;if("string"==typeof t)return o(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return o(t,n)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}function i(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){var e=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var r,o,i,a,c=[],u=!0,s=!1;try{if(i=(e=e.call(t)).next,0===n){if(Object(e)!==e)return;u=!1}else for(;!(u=(r=i.call(e)).done)&&(c.push(r.value),c.length!==n);u=!0);}catch(t){s=!0,o=t}finally{try{if(!u&&null!=e.return&&(a=e.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(t,n)||function(t,n){if(!t)return;if("string"==typeof t)return a(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return a(t,n)}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}function c(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=i(Object(u.e)({}),2)[1],o=i(Object(u.e)(t.get()),1)[0];return Object(u.c)((function(){o!==t.get()&&e({})}),[]),Object(u.c)((function(){var o,i,a,c=function(){o||(o=1,i=setTimeout((function(){o=void 0,e({})})))};return a=n.keys?function(t,n,e){var o=new Set([].concat(r(n),[void 0]));return t.listen((function(t,n){o.has(n)&&e(t,n)}))}(t,n.keys,c):t.listen(c),function(){a(),clearTimeout(i)}}),[t,""+n.keys]),t.get()}var u=e("QRet"),s=e("nii6");n.a=function(){var t=Object(u.b)(s.a),n=c(t.store());return{atrament:t,state:n,canResume:t.game.canResume,gameStart:t.game.start,gameResume:t.game.resume,makeChoice:t.game.makeChoice,continueStory:t.game.continueStory,updateSettings:function(n,e){t.settings.set(n,e),t.settings.save()}}}},"i+1S":function(t,n,e){"use strict";function r(t,n,e,r,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void e(t)}c.done?n(u):Promise.resolve(u).then(r,o)}function o(t,n){var e="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=function(t,n){if(!t)return;if("string"==typeof t)return i(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return i(t,n)}(t))||n&&t&&"number"==typeof t.length){e&&(t=e);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,c=!0,u=!1;return{s:function(){e=e.call(t)},n:function(){var t=e.next();return c=t.done,t},e:function(t){u=!0,a=t},f:function(){try{c||null==e.return||e.return()}finally{if(u)throw a}}}}function i(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}function a(t,n,e,r,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void e(t)}c.done?n(u):Promise.resolve(u).then(r,o)}function c(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){var e=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var r,o,i,a,c=[],u=!0,s=!1;try{if(i=(e=e.call(t)).next,0===n){if(Object(e)!==e)return;u=!1}else for(;!(u=(r=i.call(e)).done)&&(c.push(r.value),c.length!==n);u=!0);}catch(t){s=!0,o=t}finally{try{if(!u&&null!=e.return&&(a=e.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(t,n)||function(t,n){if(!t)return;if("string"==typeof t)return u(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return u(t,n)}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}function s(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){var e=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var r,o,i,a,c=[],u=!0,s=!1;try{if(i=(e=e.call(t)).next,0===n){if(Object(e)!==e)return;u=!1}else for(;!(u=(r=i.call(e)).done)&&(c.push(r.value),c.length!==n);u=!0);}catch(t){s=!0,o=t}finally{try{if(!u&&null!=e.return&&(a=e.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(t,n)||function(t,n){if(!t)return;if("string"==typeof t)return l(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return l(t,n)}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}e.r(n);var f=e("hosL"),h=e("QRet"),b=e("PPdB"),m=e("DsiZ"),d={container_text:"container_text__ZXoDQ"},y=function(t){var n=t.children,e=t.fontSize;return Object(f.h)("div",{class:[d.container_text,"atrament-text-container"].join(" "),style:{"font-size":"".concat(e,"%")}},n)},v={container_choices:"container_choices__0MzpN"},_=e("Ahal"),g="choice_button__rAvgB",j=function(t){var n=t.choice,e=t.handleClick,r=Object(h.a)((function(){e(n.id)}),[n,e]);return Object(f.h)("button",{class:g,onClick:r,dangerouslySetInnerHTML:{__html:n.choice}})},p=e("/Mq+"),O="link_home__T3cHG",S=function(){var t,n=Object(b.a)().atrament;return Object(f.h)(_.a,null,Object(f.h)("button",{key:"mainmenu",onClick:function(){return(t=t||(e=function*(){yield n.game.removeSave(),Object(p.b)("/")},function(){var t=this,n=arguments;return new Promise((function(o,i){function a(t){r(u,o,i,a,c,"next",t)}function c(t){r(u,o,i,a,c,"throw",t)}var u=e.apply(t,n);a(void 0)}))})).apply(this,arguments);var e},class:O},"The end"))},w=function(t){var n=t.currentScene,e=t.readyHandler,r=t.isReady,o=Object(b.a)(),i=o.makeChoice,a=o.continueStory,c=Object(h.a)((function(t){e(!1),setTimeout((function(){i(t),a()}),200)}),[i,a,e]);if(!n||!n.choices)return"";if(0===n.choices.length)return Object(f.h)(S,null);var u="choices-".concat(n.uuid);return Object(f.h)("div",{key:u,class:[v.container_choices,"atrament-container-choices",r?"animation_appear":""].join(" ")},Object(f.h)("div",{style:{opacity:r?1:0}},Object(f.h)(_.a,null,n.choices.map((function(t,n){return Object(f.h)(j,{key:"".concat(u,"-").concat(n),choice:t,handleClick:c})})))))},A={container_scenes:"container_scenes__+M1gn"},k={scene:"scene__Sj0DE"},C={imagebox:"imagebox__XCLvI",image:"image__DtVyK"},I=function(t){var n=t.src;return n?Object(f.h)("div",{class:[C.imagebox,"atrament-image-container"].join(" ")},Object(f.h)("img",{src:n,class:[C.image,"atrament-image"].join(" ")})):""},x=function(t){var n,e=t.content;return t.isCurrent||(n={opacity:"70%"}),"\n"===e?"":Object(f.h)("p",{style:n,dangerouslySetInnerHTML:{__html:e}})},z=function(t){var n=t.scene,e=t.isCurrent,r=t.readyHandler,i=c(Object(h.e)(!1),2),u=i[0],s=i[1],l=Object(h.d)(null);return Object(h.c)((function(){u&&e&&(r(!0),setTimeout((function(){return l.current.scrollIntoView({behavior:"smooth",block:"start"})}),100))}),[u,e,l,r]),Object(h.c)((function(){var t;!function(){return(t=t||(e=function*(){yield function(t){var n,e=[],r=o(t);try{var i=function(){var t=n.value;e.push(new Promise((function(n){var e=new Image;e.onload=n,e.onerror=n,e.src=t})))};for(r.s();!(n=r.n()).done;)i()}catch(t){r.e(t)}finally{r.f()}return Promise.allSettled(e)}(n.images),s(!0)},function(){var t=this,n=arguments;return new Promise((function(r,o){function i(t){a(u,r,o,i,c,"next",t)}function c(t){a(u,r,o,i,c,"throw",t)}var u=e.apply(t,n);i(void 0)}))})).apply(this,arguments);var e}()}),[n,s]),Object(f.h)("div",{class:[k.scene,"atrament-scene",e&&u?"animation_appear":""].join(" "),ref:l},Object(f.h)("div",{style:{opacity:u?1:0}},n.content.map((function(t,r){return Object(f.h)(f.Fragment,{key:"paragraph-".concat(n.uuid,"-").concat(r)},Object(f.h)(I,{src:t.image}),Object(f.h)(x,{isCurrent:e,content:t.text}))}))))},M=function(t){var n=t.scenes,e=t.setReady,r=n.length-1;return Object(f.h)("div",{class:[A.container_scenes,"atrament-container-scene"].join(" ")},n.map((function(t,n){return Object(f.h)(z,{key:t.uuid,scene:t,isCurrent:n===r,readyHandler:e})})))},P=e("wCXt");n.default=function(){var t=Object(b.a)(),n=t.state,e=t.continueStory,r=s(Object(h.e)(!1),2),o=r[0],i=r[1];Object(h.c)((function(){e()}),[e]);var a=n.scenes.length-1;return Object(f.h)(m.a,null,Object(f.h)(P.a,null),Object(f.h)(y,{fontSize:n.settings.fontSize},Object(f.h)(M,{scenes:n.scenes,setReady:i}),Object(f.h)(w,{currentScene:n.scenes[a],isReady:o,readyHandler:i})))}},wCXt:function(t,n,e){"use strict";function r(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){var e=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var r,o,i,a,c=[],u=!0,s=!1;try{if(i=(e=e.call(t)).next,0===n){if(Object(e)!==e)return;u=!1}else for(;!(u=(r=i.call(e)).done)&&(c.push(r.value),c.length!==n);u=!0);}catch(t){s=!0,o=t}finally{try{if(!u&&null!=e.return&&(a=e.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(t,n)||function(t,n){if(!t)return;if("string"==typeof t)return o(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return o(t,n)}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}function i(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){var e=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var r,o,i,a,c=[],u=!0,s=!1;try{if(i=(e=e.call(t)).next,0===n){if(Object(e)!==e)return;u=!1}else for(;!(u=(r=i.call(e)).done)&&(c.push(r.value),c.length!==n);u=!0);}catch(t){s=!0,o=t}finally{try{if(!u&&null!=e.return&&(a=e.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(t,n)||function(t,n){if(!t)return;if("string"==typeof t)return a(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return a(t,n)}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}function c(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){var e=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var r,o,i,a,c=[],u=!0,s=!1;try{if(i=(e=e.call(t)).next,0===n){if(Object(e)!==e)return;u=!1}else for(;!(u=(r=i.call(e)).done)&&(c.push(r.value),c.length!==n);u=!0);}catch(t){s=!0,o=t}finally{try{if(!u&&null!=e.return&&(a=e.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(t,n)||function(t,n){if(!t)return;if("string"==typeof t)return u(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return u(t,n)}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}for(var s=e("hosL"),l="settings_container__u7wMh",f="settings_toggle__GG4xN",h=e("QRet"),b={backdrop:"backdrop__m+OYW"},m=function(t){var n=t.onClick;return Object(s.h)("div",{class:[b.backdrop,"atrament-backdrop"].join(" "),onClick:n})},d={modal:"modal__q1MeB"},y=function(t){var n=t.children;return Object(s.h)("div",{class:[d.modal,"atrament-modal"].join(" ")},n)},v="close__w21r1",_=function(t){var n=t.onClick;return Object(s.h)("div",{class:v},Object(s.h)("button",{onClick:n,title:"Close"},"âœ•"))},g=e("8r8V"),j={settings_fontsize_container:"settings_fontsize_container__FyyGe",settings_font_a:"settings_font_a__bZJJw",settings_fontsize_input_container:"settings_fontsize_input_container__VNMn2",settings_fontsize_input:"settings_fontsize_input__s0YXN",settings_font_sample:"settings_font_sample__2n2cX"},p=e("PPdB"),O=e("xPX6"),S=e("aXPs"),w=[],A=O.h;A<=O.g;A+=O.j)w.push(A);var k=function(){var t=Object(p.a)(),n=t.updateSettings,e=t.state.settings,r=e.font,o=e.fontSize;return Object(s.h)("div",{class:[j.settings_text,"atrament-settings-text"].join(" ")},Object(s.h)("div",{class:j.settings_fontsize_container},Object(s.h)("div",{class:j.settings_font_a,style:{"font-size":"".concat(O.h,"%")}},"A"),Object(s.h)("div",{class:j.settings_fontsize_input_container},Object(s.h)("input",{class:j.settings_fontsize_input,type:"range",min:O.h,max:O.g,step:O.j,value:o||O.b,onInput:function(t){return n("fontSize",t.target.value)},list:"fontSizes"}),Object(s.h)("datalist",{id:"fontSizes"},w.map((function(t){return Object(s.h)("option",{key:t,value:t})})))),Object(s.h)("div",{class:j.settings_font_a,style:{"font-size":"".concat(O.g,"%")}},"A")),Object(s.h)("div",{class:j.settings_font_sample,style:{"font-size":"".concat(o,"%"),"font-family":S.c[r]}},O.i))},C={settings_font_container:"settings_font_container__XUIDw"},I=function(){var t=Object(p.a)(),n=t.updateSettings,e=t.state.settings.font;return Object(s.h)("div",{class:[C.settings_font_container,"atrament-settings-font"].join(" ")},Object(s.h)("select",{onChange:function(t){return n("font",t.target.value)},style:{"font-family":S.c[e]}},Object.entries(S.c).map((function(t){var n=r(t,2),o=n[0],i=n[1];return Object(s.h)("option",{key:o,value:o,style:{"font-family":i},selected:e===o},o)}))))},x={settings_theme_container:"settings_theme_container__ZF0WE",settings_theme_button:"settings_theme_button__+oQkm"},z=function(t){var n=t.themeId,e=t.themeConfig,r=t.onClick,o={color:e["--fg-color"],"background-color":e["--bg-color"]};return Object(s.h)("button",{class:x.settings_theme_button,style:o,onClick:r,"data-theme-id":n},n)},M=function(){var t=Object(p.a)().updateSettings,n=function(n){return t("theme",n.target.attributes["data-theme-id"].value)};return Object(s.h)("div",{class:[x.settings_theme_container,"atrament-settings-theme"].join(" ")},Object.entries(S.d).map((function(t){var e=i(t,2),r=e[0],o=e[1];return Object(s.h)(z,{key:r,themeId:r,themeConfig:o,onClick:n})})))},P=e("4tvA"),T=function(){var t=Object(p.a)(),n=t.state,e=t.updateSettings;return Object(s.h)("div",{class:["atrament-settings-animation"].join(" ")},Object(s.h)(P.a,{enabled:n.settings.animation,onChange:function(t){return e("animation",t.target.checked)}})," Animations")},E="settings_about__rS73I",U=function(){var t=Object(p.a)().atrament;return Object(s.h)("div",{class:E},"atrament ",t.version)};n.a=function(){var t=c(Object(h.e)(!1),2),n=t[0],e=t[1],r=Object(h.a)((function(){return e(!n)}),[n]),o=Object(h.a)((function(t){"Escape"===t.key&&e(!1)}),[]);return Object(h.c)((function(){return document.addEventListener("keydown",o,!1),function(){document.removeEventListener("keydown",o,!1)}}),[o]),n?Object(s.h)("div",{class:l},Object(s.h)(m,{onClick:r}),Object(s.h)(y,null,Object(s.h)(_,{onClick:r}),Object(s.h)(T,null),Object(s.h)(g.a,null),Object(s.h)(I,null),Object(s.h)(k,null),Object(s.h)(M,null),Object(s.h)(U,null))):Object(s.h)("button",{class:f,onClick:r},"â˜°")}}}]);
//# sourceMappingURL=route-game.chunk.9dc16.js.map