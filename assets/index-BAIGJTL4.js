(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();var oe,b,Dt,z,rt,zt,Le,Ue,Ae,Te,Ut,Z={},Bt=[],$n=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,ye=Array.isArray;function F(e,t){for(var n in t)e[n]=t[n];return e}function Wt(e){var t=e.parentNode;t&&t.removeChild(e)}function ee(e,t,n){var o,r,i,s={};for(i in t)i=="key"?o=t[i]:i=="ref"?r=t[i]:s[i]=t[i];if(arguments.length>2&&(s.children=arguments.length>3?oe.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(i in e.defaultProps)s[i]===void 0&&(s[i]=e.defaultProps[i]);return J(e,s,o,r,null)}function J(e,t,n,o,r){var i={type:e,props:t,key:n,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:r??++Dt,__i:-1,__u:0};return r==null&&b.vnode!=null&&b.vnode(i),i}function H(e){return e.children}function Q(e,t){this.props=e,this.context=t}function B(e,t){if(t==null)return e.__?B(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?B(e):null}function Nt(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return Nt(e)}}function Oe(e){(!e.__d&&(e.__d=!0)&&z.push(e)&&!pe.__r++||rt!==b.debounceRendering)&&((rt=b.debounceRendering)||zt)(pe)}function pe(){var e,t,n,o,r,i,s,l;for(z.sort(Le);e=z.shift();)e.__d&&(t=z.length,o=void 0,i=(r=(n=e).__v).__e,s=[],l=[],n.__P&&((o=F({},r)).__v=r.__v+1,b.vnode&&b.vnode(o),Be(n.__P,o,r,n.__n,n.__P.namespaceURI,32&r.__u?[i]:null,s,i??B(r),!!(32&r.__u),l),o.__v=r.__v,o.__.__k[o.__i]=o,Gt(s,o,l),o.__e!=i&&Nt(o)),z.length>t&&z.sort(Le));pe.__r=0}function qt(e,t,n,o,r,i,s,l,u,_,f){var a,p,d,h,k,y=o&&o.__k||Bt,m=t.length;for(n.__d=u,En(n,t,y),u=n.__d,a=0;a<m;a++)(d=n.__k[a])!=null&&typeof d!="boolean"&&typeof d!="function"&&(p=d.__i===-1?Z:y[d.__i]||Z,d.__i=a,Be(e,d,p,r,i,s,l,u,_,f),h=d.__e,d.ref&&p.ref!=d.ref&&(p.ref&&We(p.ref,null,d),f.push(d.ref,d.__c||h,d)),k==null&&h!=null&&(k=h),65536&d.__u||p.__k===d.__k?(u&&!u.isConnected&&(u=B(p)),u=Yt(d,u,e)):typeof d.type=="function"&&d.__d!==void 0?u=d.__d:h&&(u=h.nextSibling),d.__d=void 0,d.__u&=-196609);n.__d=u,n.__e=k}function En(e,t,n){var o,r,i,s,l,u=t.length,_=n.length,f=_,a=0;for(e.__k=[],o=0;o<u;o++)s=o+a,(r=e.__k[o]=(r=t[o])==null||typeof r=="boolean"||typeof r=="function"?null:typeof r=="string"||typeof r=="number"||typeof r=="bigint"||r.constructor==String?J(null,r,null,null,null):ye(r)?J(H,{children:r},null,null,null):r.constructor===void 0&&r.__b>0?J(r.type,r.props,r.key,r.ref?r.ref:null,r.__v):r)!=null?(r.__=e,r.__b=e.__b+1,l=Sn(r,n,s,f),r.__i=l,i=null,l!==-1&&(f--,(i=n[l])&&(i.__u|=131072)),i==null||i.__v===null?(l==-1&&a--,typeof r.type!="function"&&(r.__u|=65536)):l!==s&&(l===s+1?a++:l>s?f>u-s?a+=l-s:a--:l<s?l==s-1&&(a=l-s):a=0,l!==o+a&&(r.__u|=65536))):(i=n[s])&&i.key==null&&i.__e&&!(131072&i.__u)&&(i.__e==e.__d&&(e.__d=B(i)),je(i,i,!1),n[s]=null,f--);if(f)for(o=0;o<_;o++)(i=n[o])!=null&&!(131072&i.__u)&&(i.__e==e.__d&&(e.__d=B(i)),je(i,i))}function Yt(e,t,n){var o,r;if(typeof e.type=="function"){for(o=e.__k,r=0;o&&r<o.length;r++)o[r]&&(o[r].__=e,t=Yt(o[r],t,n));return t}e.__e!=t&&(n.insertBefore(e.__e,t||null),t=e.__e);do t=t&&t.nextSibling;while(t!=null&&t.nodeType===8);return t}function Ie(e,t){return t=t||[],e==null||typeof e=="boolean"||(ye(e)?e.some(function(n){Ie(n,t)}):t.push(e)),t}function Sn(e,t,n,o){var r=e.key,i=e.type,s=n-1,l=n+1,u=t[n];if(u===null||u&&r==u.key&&i===u.type&&!(131072&u.__u))return n;if(o>(u!=null&&!(131072&u.__u)?1:0))for(;s>=0||l<t.length;){if(s>=0){if((u=t[s])&&!(131072&u.__u)&&r==u.key&&i===u.type)return s;s--}if(l<t.length){if((u=t[l])&&!(131072&u.__u)&&r==u.key&&i===u.type)return l;l++}}return-1}function it(e,t,n){t[0]==="-"?e.setProperty(t,n??""):e[t]=n==null?"":typeof n!="number"||$n.test(t)?n:n+"px"}function ce(e,t,n,o,r){var i;e:if(t==="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof o=="string"&&(e.style.cssText=o=""),o)for(t in o)n&&t in n||it(e.style,t,"");if(n)for(t in n)o&&n[t]===o[t]||it(e.style,t,n[t])}else if(t[0]==="o"&&t[1]==="n")i=t!==(t=t.replace(/(PointerCapture)$|Capture$/i,"$1")),t=t.toLowerCase()in e||t==="onFocusOut"||t==="onFocusIn"?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+i]=n,n?o?n.u=o.u:(n.u=Ue,e.addEventListener(t,i?Te:Ae,i)):e.removeEventListener(t,i?Te:Ae,i);else{if(r=="http://www.w3.org/2000/svg")t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!="width"&&t!="height"&&t!="href"&&t!="list"&&t!="form"&&t!="tabIndex"&&t!="download"&&t!="rowSpan"&&t!="colSpan"&&t!="role"&&t in e)try{e[t]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&t[4]!=="-"?e.removeAttribute(t):e.setAttribute(t,n))}}function st(e){return function(t){if(this.l){var n=this.l[t.type+e];if(t.t==null)t.t=Ue++;else if(t.t<n.u)return;return n(b.event?b.event(t):t)}}}function Be(e,t,n,o,r,i,s,l,u,_){var f,a,p,d,h,k,y,m,w,g,v,E,C,L,G,P=t.type;if(t.constructor!==void 0)return null;128&n.__u&&(u=!!(32&n.__u),i=[l=t.__e=n.__e]),(f=b.__b)&&f(t);e:if(typeof P=="function")try{if(m=t.props,w=(f=P.contextType)&&o[f.__c],g=f?w?w.props.value:f.__:o,n.__c?y=(a=t.__c=n.__c).__=a.__E:("prototype"in P&&P.prototype.render?t.__c=a=new P(m,g):(t.__c=a=new Q(m,g),a.constructor=P,a.render=Cn),w&&w.sub(a),a.props=m,a.state||(a.state={}),a.context=g,a.__n=o,p=a.__d=!0,a.__h=[],a._sb=[]),a.__s==null&&(a.__s=a.state),P.getDerivedStateFromProps!=null&&(a.__s==a.state&&(a.__s=F({},a.__s)),F(a.__s,P.getDerivedStateFromProps(m,a.__s))),d=a.props,h=a.state,a.__v=t,p)P.getDerivedStateFromProps==null&&a.componentWillMount!=null&&a.componentWillMount(),a.componentDidMount!=null&&a.__h.push(a.componentDidMount);else{if(P.getDerivedStateFromProps==null&&m!==d&&a.componentWillReceiveProps!=null&&a.componentWillReceiveProps(m,g),!a.__e&&(a.shouldComponentUpdate!=null&&a.shouldComponentUpdate(m,a.__s,g)===!1||t.__v===n.__v)){for(t.__v!==n.__v&&(a.props=m,a.state=a.__s,a.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.forEach(function(V){V&&(V.__=t)}),v=0;v<a._sb.length;v++)a.__h.push(a._sb[v]);a._sb=[],a.__h.length&&s.push(a);break e}a.componentWillUpdate!=null&&a.componentWillUpdate(m,a.__s,g),a.componentDidUpdate!=null&&a.__h.push(function(){a.componentDidUpdate(d,h,k)})}if(a.context=g,a.props=m,a.__P=e,a.__e=!1,E=b.__r,C=0,"prototype"in P&&P.prototype.render){for(a.state=a.__s,a.__d=!1,E&&E(t),f=a.render(a.props,a.state,a.context),L=0;L<a._sb.length;L++)a.__h.push(a._sb[L]);a._sb=[]}else do a.__d=!1,E&&E(t),f=a.render(a.props,a.state,a.context),a.state=a.__s;while(a.__d&&++C<25);a.state=a.__s,a.getChildContext!=null&&(o=F(F({},o),a.getChildContext())),p||a.getSnapshotBeforeUpdate==null||(k=a.getSnapshotBeforeUpdate(d,h)),qt(e,ye(G=f!=null&&f.type===H&&f.key==null?f.props.children:f)?G:[G],t,n,o,r,i,s,l,u,_),a.base=t.__e,t.__u&=-161,a.__h.length&&s.push(a),y&&(a.__E=a.__=null)}catch(V){t.__v=null,u||i!=null?(t.__e=l,t.__u|=u?160:32,i[i.indexOf(l)]=null):(t.__e=n.__e,t.__k=n.__k),b.__e(V,t,n)}else i==null&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=xn(n.__e,t,n,o,r,i,s,u,_);(f=b.diffed)&&f(t)}function Gt(e,t,n){t.__d=void 0;for(var o=0;o<n.length;o++)We(n[o],n[++o],n[++o]);b.__c&&b.__c(t,e),e.some(function(r){try{e=r.__h,r.__h=[],e.some(function(i){i.call(r)})}catch(i){b.__e(i,r.__v)}})}function xn(e,t,n,o,r,i,s,l,u){var _,f,a,p,d,h,k,y=n.props,m=t.props,w=t.type;if(w==="svg"?r="http://www.w3.org/2000/svg":w==="math"?r="http://www.w3.org/1998/Math/MathML":r||(r="http://www.w3.org/1999/xhtml"),i!=null){for(_=0;_<i.length;_++)if((d=i[_])&&"setAttribute"in d==!!w&&(w?d.localName===w:d.nodeType===3)){e=d,i[_]=null;break}}if(e==null){if(w===null)return document.createTextNode(m);e=document.createElementNS(r,w,m.is&&m),i=null,l=!1}if(w===null)y===m||l&&e.data===m||(e.data=m);else{if(i=i&&oe.call(e.childNodes),y=n.props||Z,!l&&i!=null)for(y={},_=0;_<e.attributes.length;_++)y[(d=e.attributes[_]).name]=d.value;for(_ in y)if(d=y[_],_!="children"){if(_=="dangerouslySetInnerHTML")a=d;else if(_!=="key"&&!(_ in m)){if(_=="value"&&"defaultValue"in m||_=="checked"&&"defaultChecked"in m)continue;ce(e,_,null,d,r)}}for(_ in m)d=m[_],_=="children"?p=d:_=="dangerouslySetInnerHTML"?f=d:_=="value"?h=d:_=="checked"?k=d:_==="key"||l&&typeof d!="function"||y[_]===d||ce(e,_,d,y[_],r);if(f)l||a&&(f.__html===a.__html||f.__html===e.innerHTML)||(e.innerHTML=f.__html),t.__k=[];else if(a&&(e.innerHTML=""),qt(e,ye(p)?p:[p],t,n,o,w==="foreignObject"?"http://www.w3.org/1999/xhtml":r,i,s,i?i[0]:n.__k&&B(n,0),l,u),i!=null)for(_=i.length;_--;)i[_]!=null&&Wt(i[_]);l||(_="value",h!==void 0&&(h!==e[_]||w==="progress"&&!h||w==="option"&&h!==y[_])&&ce(e,_,h,y[_],r),_="checked",k!==void 0&&k!==e[_]&&ce(e,_,k,y[_],r))}return e}function We(e,t,n){try{typeof e=="function"?e(t):e.current=t}catch(o){b.__e(o,n)}}function je(e,t,n){var o,r;if(b.unmount&&b.unmount(e),(o=e.ref)&&(o.current&&o.current!==e.__e||We(o,null,t)),(o=e.__c)!=null){if(o.componentWillUnmount)try{o.componentWillUnmount()}catch(i){b.__e(i,t)}o.base=o.__P=null}if(o=e.__k)for(r=0;r<o.length;r++)o[r]&&je(o[r],t,n||typeof e.type!="function");n||e.__e==null||Wt(e.__e),e.__c=e.__=e.__e=e.__d=void 0}function Cn(e,t,n){return this.constructor(e,n)}function Pn(e,t,n){var o,r,i,s;b.__&&b.__(e,t),r=(o=typeof n=="function")?null:t.__k,i=[],s=[],Be(t,e=(!o&&n||t).__k=ee(H,null,[e]),r||Z,Z,t.namespaceURI,!o&&n?[n]:r?null:t.firstChild?oe.call(t.childNodes):null,i,!o&&n?n:r?r.__e:t.firstChild,o,s),Gt(i,e,s)}function Ln(e,t,n){var o,r,i,s,l=F({},e.props);for(i in e.type&&e.type.defaultProps&&(s=e.type.defaultProps),t)i=="key"?o=t[i]:i=="ref"?r=t[i]:l[i]=t[i]===void 0&&s!==void 0?s[i]:t[i];return arguments.length>2&&(l.children=arguments.length>3?oe.call(arguments,2):n),J(e.type,l,o||e.key,r||e.ref,null)}function Ne(e,t){var n={__c:t="__cC"+Ut++,__:e,Consumer:function(o,r){return o.children(r)},Provider:function(o){var r,i;return this.getChildContext||(r=[],(i={})[t]=this,this.getChildContext=function(){return i},this.shouldComponentUpdate=function(s){this.props.value!==s.value&&r.some(function(l){l.__e=!0,Oe(l)})},this.sub=function(s){r.push(s);var l=s.componentWillUnmount;s.componentWillUnmount=function(){r.splice(r.indexOf(s),1),l&&l.call(s)}}),o.children}};return n.Provider.__=n.Consumer.contextType=n}oe=Bt.slice,b={__e:function(e,t,n,o){for(var r,i,s;t=t.__;)if((r=t.__c)&&!r.__)try{if((i=r.constructor)&&i.getDerivedStateFromError!=null&&(r.setState(i.getDerivedStateFromError(e)),s=r.__d),r.componentDidCatch!=null&&(r.componentDidCatch(e,o||{}),s=r.__d),s)return r.__E=r}catch(l){e=l}throw e}},Dt=0,Q.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=F({},this.state),typeof e=="function"&&(e=e(F({},n),this.props)),e&&F(n,e),e!=null&&this.__v&&(t&&this._sb.push(t),Oe(this))},Q.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),Oe(this))},Q.prototype.render=H,z=[],zt=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Le=function(e,t){return e.__v.__b-t.__v.__b},pe.__r=0,Ue=0,Ae=st(!1),Te=st(!0),Ut=0;var An=0;function c(e,t,n,o,r,i){t||(t={});var s,l,u=t;if("ref"in u)for(l in u={},t)l=="ref"?s=t[l]:u[l]=t[l];var _={type:e,props:u,key:n,ref:s,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:--An,__i:-1,__u:0,__source:r,__self:i};if(typeof e=="function"&&(s=e.defaultProps))for(l in s)u[l]===void 0&&(u[l]=s[l]);return b.vnode&&b.vnode(_),_}const Tn="modulepreload",On=function(e,t){return e[0]==="."?new URL(e,t).href:e},ct={},at=function(t,n,o){let r=Promise.resolve();if(n&&n.length>0){const i=document.getElementsByTagName("link"),s=document.querySelector("meta[property=csp-nonce]"),l=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));r=Promise.all(n.map(u=>{if(u=On(u,o),u in ct)return;ct[u]=!0;const _=u.endsWith(".css"),f=_?'[rel="stylesheet"]':"";if(!!o)for(let d=i.length-1;d>=0;d--){const h=i[d];if(h.href===u&&(!_||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${u}"]${f}`))return;const p=document.createElement("link");if(p.rel=_?"stylesheet":Tn,_||(p.as="script",p.crossOrigin=""),p.href=u,l&&p.setAttribute("nonce",l),document.head.appendChild(p),_)return new Promise((d,h)=>{p.addEventListener("load",d),p.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${u}`)))})}))}return r.then(()=>t()).catch(i=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=i,window.dispatchEvent(s),!s.defaultPrevented)throw i})};var Y,$,$e,lt,te=0,Kt=[],de=[],S=b,ut=S.__b,_t=S.__r,dt=S.diffed,ft=S.__c,ht=S.unmount,pt=S.__;function be(e,t){S.__h&&S.__h($,e,te||t),te=0;var n=$.__H||($.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({__V:de}),n.__[e]}function I(e){return te=1,In(Qt,e)}function In(e,t,n){var o=be(Y++,2);if(o.t=e,!o.__c&&(o.__=[Qt(void 0,t),function(l){var u=o.__N?o.__N[0]:o.__[0],_=o.t(u,l);u!==_&&(o.__N=[_,o.__[1]],o.__c.setState({}))}],o.__c=$,!$.u)){var r=function(l,u,_){if(!o.__c.__H)return!0;var f=o.__c.__H.__.filter(function(p){return!!p.__c});if(f.every(function(p){return!p.__N}))return!i||i.call(this,l,u,_);var a=!1;return f.forEach(function(p){if(p.__N){var d=p.__[0];p.__=p.__N,p.__N=void 0,d!==p.__[0]&&(a=!0)}}),!(!a&&o.__c.props===l)&&(!i||i.call(this,l,u,_))};$.u=!0;var i=$.shouldComponentUpdate,s=$.componentWillUpdate;$.componentWillUpdate=function(l,u,_){if(this.__e){var f=i;i=void 0,r(l,u,_),i=f}s&&s.call(this,l,u,_)},$.shouldComponentUpdate=r}return o.__N||o.__}function T(e,t){var n=be(Y++,3);!S.__s&&Jt(n.__H,t)&&(n.__=e,n.i=t,$.__H.__h.push(n))}function jn(e){return te=5,Xt(function(){return{current:e}},[])}function Xt(e,t){var n=be(Y++,7);return Jt(n.__H,t)?(n.__V=e(),n.i=t,n.__h=e,n.__V):n.__}function O(e,t){return te=8,Xt(function(){return e},t)}function qe(e){var t=$.context[e.__c],n=be(Y++,9);return n.c=e,t?(n.__==null&&(n.__=!0,t.sub($)),t.props.value):e.__}function Rn(){for(var e;e=Kt.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(fe),e.__H.__h.forEach(Re),e.__H.__h=[]}catch(t){e.__H.__h=[],S.__e(t,e.__v)}}S.__b=function(e){$=null,ut&&ut(e)},S.__=function(e,t){e&&t.__k&&t.__k.__m&&(e.__m=t.__k.__m),pt&&pt(e,t)},S.__r=function(e){_t&&_t(e),Y=0;var t=($=e.__c).__H;t&&($e===$?(t.__h=[],$.__h=[],t.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=de,n.__N=n.i=void 0})):(t.__h.forEach(fe),t.__h.forEach(Re),t.__h=[],Y=0)),$e=$},S.diffed=function(e){dt&&dt(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(Kt.push(t)!==1&&lt===S.requestAnimationFrame||((lt=S.requestAnimationFrame)||Fn)(Rn)),t.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==de&&(n.__=n.__V),n.i=void 0,n.__V=de})),$e=$=null},S.__c=function(e,t){t.some(function(n){try{n.__h.forEach(fe),n.__h=n.__h.filter(function(o){return!o.__||Re(o)})}catch(o){t.some(function(r){r.__h&&(r.__h=[])}),t=[],S.__e(o,n.__v)}}),ft&&ft(e,t)},S.unmount=function(e){ht&&ht(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(o){try{fe(o)}catch(r){t=r}}),n.__H=void 0,t&&S.__e(t,n.__v))};var gt=typeof requestAnimationFrame=="function";function Fn(e){var t,n=function(){clearTimeout(o),gt&&cancelAnimationFrame(t),setTimeout(e)},o=setTimeout(n,100);gt&&(t=requestAnimationFrame(n))}function fe(e){var t=$,n=e.__c;typeof n=="function"&&(e.__c=void 0,n()),$=t}function Re(e){var t=$;e.__c=e.__(),$=t}function Jt(e,t){return!e||e.length!==t.length||t.some(function(n,o){return n!==e[o]})}function Qt(e,t){return typeof t=="function"?t(e):t}var Hn={};function ae(e,t){for(var n in t)e[n]=t[n];return e}function Vn(e,t,n){var o,r=/(?:\?([^#]*))?(#.*)?$/,i=e.match(r),s={};if(i&&i[1])for(var l=i[1].split("&"),u=0;u<l.length;u++){var _=l[u].split("=");s[decodeURIComponent(_[0])]=decodeURIComponent(_.slice(1).join("="))}e=Fe(e.replace(r,"")),t=Fe(t||"");for(var f=Math.max(e.length,t.length),a=0;a<f;a++)if(t[a]&&t[a].charAt(0)===":"){var p=t[a].replace(/(^:|[+*?]+$)/g,""),d=(t[a].match(/[+*?]+$/)||Hn)[0]||"",h=~d.indexOf("+"),k=~d.indexOf("*"),y=e[a]||"";if(!y&&!k&&(d.indexOf("?")<0||h)){o=!1;break}if(s[p]=decodeURIComponent(y),h||k){s[p]=e.slice(a).map(decodeURIComponent).join("/");break}}else if(t[a]!==e[a]){o=!1;break}return(n.default===!0||o!==!1)&&s}function Mn(e,t){return e.rank<t.rank?1:e.rank>t.rank?-1:e.index-t.index}function Dn(e,t){return e.index=t,e.rank=function(n){return n.props.default?0:Fe(n.props.path).map(zn).join("")}(e),e.props}function Fe(e){return e.replace(/(^\/+|\/+$)/g,"").split("/")}function zn(e){return e.charAt(0)==":"?1+"*+?".indexOf(e.charAt(e.length-1))||4:5}var Un={},U=[],mt=[],A=null,Zt={url:Ye()},Bn=Ne(Zt);function Ye(){var e;return""+((e=A&&A.location?A.location:A&&A.getCurrentLocation?A.getCurrentLocation():typeof location<"u"?location:Un).pathname||"")+(e.search||"")}function q(e,t){return t===void 0&&(t=!1),typeof e!="string"&&e.url&&(t=e.replace,e=e.url),function(n){for(var o=U.length;o--;)if(U[o].canRoute(n))return!0;return!1}(e)&&function(n,o){o===void 0&&(o="push"),A&&A[o]?A[o](n):typeof history<"u"&&history[o+"State"]&&history[o+"State"](null,null,n)}(e,t?"replace":"push"),en(e)}function en(e){for(var t=!1,n=0;n<U.length;n++)U[n].routeTo(e)&&(t=!0);return t}function Wn(e){if(e&&e.getAttribute){var t=e.getAttribute("href"),n=e.getAttribute("target");if(t&&t.match(/^\//g)&&(!n||n.match(/^_?self$/i)))return q(t)}}function Nn(e){return e.stopImmediatePropagation&&e.stopImmediatePropagation(),e.stopPropagation&&e.stopPropagation(),e.preventDefault(),!1}function qn(e){if(!(e.ctrlKey||e.metaKey||e.altKey||e.shiftKey||e.button)){var t=e.target;do if(t.localName==="a"&&t.getAttribute("href")){if(t.hasAttribute("data-native")||t.hasAttribute("native"))return;if(Wn(t))return Nn(e)}while(t=t.parentNode)}}var vt=!1;function tn(e){e.history&&(A=e.history),this.state={url:e.url||Ye()}}ae(tn.prototype=new Q,{shouldComponentUpdate:function(e){return e.static!==!0||e.url!==this.props.url||e.onChange!==this.props.onChange},canRoute:function(e){var t=Ie(this.props.children);return this.g(t,e)!==void 0},routeTo:function(e){this.setState({url:e});var t=this.canRoute(e);return this.p||this.forceUpdate(),t},componentWillMount:function(){this.p=!0},componentDidMount:function(){var e=this;vt||(vt=!0,A||addEventListener("popstate",function(){en(Ye())}),addEventListener("click",qn)),U.push(this),A&&(this.u=A.listen(function(t){var n=t.location||t;e.routeTo(""+(n.pathname||"")+(n.search||""))})),this.p=!1},componentWillUnmount:function(){typeof this.u=="function"&&this.u(),U.splice(U.indexOf(this),1)},componentWillUpdate:function(){this.p=!0},componentDidUpdate:function(){this.p=!1},g:function(e,t){e=e.filter(Dn).sort(Mn);for(var n=0;n<e.length;n++){var o=e[n],r=Vn(t,o.props.path,o.props);if(r)return[o,r]}},render:function(e,t){var n,o,r=e.onChange,i=t.url,s=this.c,l=this.g(Ie(e.children),i);if(l&&(o=Ln(l[0],ae(ae({url:i,matches:n=l[1]},n),{key:void 0,ref:void 0}))),i!==(s&&s.url)){ae(Zt,s=this.c={url:i,previous:s&&s.url,current:o,path:o?o.props.path:null,matches:n}),s.router=this,s.active=o?[o]:[];for(var u=mt.length;u--;)mt[u]({});typeof r=="function"&&r(s)}return ee(Bn.Provider,{value:s},o)}});function ge(){return ge=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)({}).hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},ge.apply(null,arguments)}var N;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(N||(N={}));var yt=function(e){return e};function Yn(e){e===void 0&&(e={});var t=e,n=t.initialEntries,o=n===void 0?["/"]:n,r=t.initialIndex,i=o.map(function(g){var v=yt(ge({pathname:"/",search:"",hash:"",state:null,key:wt()},typeof g=="string"?$t(g):g));return v}),s=bt(r??i.length-1,0,i.length-1),l=N.Pop,u=i[s],_=kt(),f=kt();function a(g){return typeof g=="string"?g:Gn(g)}function p(g,v){return v===void 0&&(v=null),yt(ge({pathname:u.pathname,search:"",hash:""},typeof g=="string"?$t(g):g,{state:v,key:wt()}))}function d(g,v,E){return!f.length||(f.call({action:g,location:v,retry:E}),!1)}function h(g,v){l=g,u=v,_.call({action:l,location:u})}function k(g,v){var E=N.Push,C=p(g,v);function L(){k(g,v)}d(E,C,L)&&(s+=1,i.splice(s,i.length,C),h(E,C))}function y(g,v){var E=N.Replace,C=p(g,v);function L(){y(g,v)}d(E,C,L)&&(i[s]=C,h(E,C))}function m(g){var v=bt(s+g,0,i.length-1),E=N.Pop,C=i[v];function L(){m(g)}d(E,C,L)&&(s=v,h(E,C))}var w={get index(){return s},get action(){return l},get location(){return u},createHref:a,push:k,replace:y,go:m,back:function(){m(-1)},forward:function(){m(1)},listen:function(v){return _.push(v)},block:function(v){return f.push(v)}};return w}function bt(e,t,n){return Math.min(Math.max(e,t),n)}function kt(){var e=[];return{get length(){return e.length},push:function(n){return e.push(n),function(){e=e.filter(function(o){return o!==n})}},call:function(n){e.forEach(function(o){return o&&o(n)})}}}function wt(){return Math.random().toString(36).substr(2,8)}function Gn(e){var t=e.pathname,n=t===void 0?"/":t,o=e.search,r=o===void 0?"":o,i=e.hash,s=i===void 0?"":i;return r&&r!=="?"&&(n+=r.charAt(0)==="?"?r:"?"+r),s&&s!=="#"&&(n+=s.charAt(0)==="#"?s:"#"+s),n}function $t(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var o=e.indexOf("?");o>=0&&(t.search=e.substr(o),e=e.substr(0,o)),e&&(t.pathname=e)}return t}var M,He=function(e,t){return He=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(n[r]=o[r])},He(e,t)},Et=function(e){function t(n,o){var r=e.call(this,"Translation failed")||this;return r.id=n,r.language=o,r}return function(n,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+o+" is not a constructor or null");function r(){this.constructor=n}He(n,o),n.prototype=o===null?Object.create(o):(r.prototype=o.prototype,new r)}(t,e),t.is=function(n){return n instanceof t},t}(Error),Kn=function(){function e(t){this.input=t,this.index=0,this.done=!1,this.value="",this.value=this.input.charAt(0)}return e.prototype.next=function(){return++this.index>=this.input.length&&(this.done=!0),this.value=this.input.charAt(this.index)},e.prototype.croak=function(){throw Error("[".concat(this.input,']. Unexpected character "').concat(this.value,'" on position ').concat(this.index,"."))},e}();(function(e){e[e.Plural=0]="Plural",e[e.Select=1]="Select",e[e.Text=2]="Text",e[e.Variable=3]="Variable"})(M||(M={}));var Xn=["{","}",","],Jn=function(){function e(t){this.input=new Kn(t)}return e.prototype.next=function(){return this.input.value==="{"?this.readVariable():this.readText()},e.prototype.skip=function(t){t!==this.input.value&&this.input.croak(),this.input.next()},e.prototype.readWhile=function(t){for(var n="";!this.input.done&&t(this.input.value);)n+=this.input.value,this.input.next();return n},e.prototype.readVariable=function(){this.skip("{");var t=this.readWhile(function(o){return!function(r){return Xn.includes(r)}(o)}).trim();if(t.length===0&&this.input.croak(),this.input.value==="}")return this.skip("}"),{type:M.Variable,value:t};this.skip(",");var n=this.readVariableType();return{options:this.readVariableOptions(),type:n,value:t}},e.prototype.readText=function(){return{type:M.Text,value:this.readWhile(function(t){return t!=="{"&&t!=="}"})}},e.prototype.readVariableType=function(){var t=this.readWhile(function(n){return n!==","}).trim();return t==="plural"?M.Plural:t==="select"?M.Select:void this.input.croak()},e.prototype.readVariableOptions=function(){this.skip(",");for(var t={};this.input.value!=="}";)t[this.readText().value.trim()]=this.readExpression();return this.skip("}"),t},e.prototype.readExpression=function(){var t=[];for(this.skip("{");this.input.value!=="}";)t.push(this.next());return this.skip("}"),t},e}();function Qn(e,t,n){for(var o=new Jn(t),r=[],i=function(s){var l=s.options,u=s.type,_=s.value;if(u!==M.Variable)if(l)if(u!==M.Select)try{r.concat(l[new Intl.PluralRules(e).select(n[_])].map(i))}catch{r.concat(l.other.map(i))}else r.concat((l[n[_]]||l.other).map(i));else r.push(_);else r.push(n[_])};!o.input.done;)i(o.next());return r}var nn=function(e,t){e===void 0&&(e="en"),t===void 0&&(t=[]);var n=this;this.memo={},this.onError=console.error,this.formatDate=function(r,i){return new Intl.DateTimeFormat(n.language,i).format(r)},this.formatNumber=function(r,i){return new Intl.NumberFormat(n.language,i).format(r)},this.translate=function(r,i){i===void 0&&(i={});var s=n.getMessageById(r,i.defaultMessage);if(typeof s=="string")try{return Qn(n.language,s,i).join("")}catch{n.onError(new Et(r,n.language))}return s+""},this.getMessageById=function(r,i){if(!n.memo[r]){var s=n.messages[r];s===void 0&&(s=r.split(".").reduce(function(l,u){return l?l[u]:void 0},n.messages)),typeof s!="string"&&(n.onError(new Et(r,n.language)),s=i||r),n.memo[r]=s}return n.memo[r]};var o=t.find(function(r){return r.language===e});this.language=e,this.messages=o?o.messages:{}};function Zn(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function"){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n}var Ge=Ne({language:"",locales:[],setLanguage:function(){},translator:new nn}),eo=function(e){var t=e.children,n=e.language,o=e.locales,r=e.onError,i=I(n);T(function(){i[1](n)},[n]);var s=new nn(i[0],o);return r&&(s.onError=r),ee(Ge.Provider,{value:{language:i[0],locales:o,setLanguage:i[1],translator:s}},t)};function on(e){var t=qe(Ge);return t.translator}var R=function(e){var t=e.html,n=e.id,o=e.tagName,r=o===void 0?"span":o,i=Zn(e,["children","html","id","tagName"]),s=qe(Ge).translator.translate(n,i);return t?ee(r,{dangerouslySetInnerHTML:{__html:s}}):ee(H,null,s)};const rn=Ne(null),to="Atrament Preact UI demo",no="atrament-preact-ui",oo="Atrament Preact UI - shell for Ink games",ro="light",io="System",so="en",co={path:"game",source:"intercept.ink",script:"intercept.ink.json"},re={name:to,short_name:no,description:oo,theme:ro,font:io,language:so,game:co},sn=re.game.path,cn=re.game.script,ao=["Atrament://",window.location.host,window.location.pathname,sn,cn].join(""),lo=re.language,an=re.theme,ln=re.font,Ke=100,ke=10,Ve=Ke-ke*3,Me=Ke+ke*5;function uo(e){document.addEventListener("visibilitychange",()=>{document.visibilityState==="visible"?e.interfaces.sound.mute(e.settings.get("mute")):e.interfaces.sound.mute(!0)})}function St(e){if(!e)return;const t=document.querySelector(".atrament-text-container");t.style.background=e}function _o(e){e.on("game/continueStory",()=>St(e.state.get().game.background)),e.game.defineSceneProcessor(t=>{var n,o;if((n=t.tags)!=null&&n.BACKGROUND){const r=(o=t.tags)==null?void 0:o.BACKGROUND;e.state.setSubkey("game","background",r),St(r)}})}let un=()=>{};function fo(e){un=e}function De(e){return e?un(e):null}function ho(e){const t=e.state.get().metadata.theme||an;e.settings.get("theme")||e.settings.set("theme",t)}function po(e){const t=e.state.get().metadata.font||ln;e.settings.get("font")||e.settings.set("font",t)}const go={"--bg-color":"#FCFCFC","--fg-color":"#5D576B","--shade-color":"rgba(0, 0, 0, 0.1)","--font-color":"#333333","--accent-bg-color":"#F7567C","--accent-fg-color":"#FCFCFC"},mo={"--bg-color":"#ffeedb","--fg-color":"#4c3b4d","--shade-color":"rgba(0, 0, 0, 0.1)","--font-color":"#333333","--accent-bg-color":"#a53850","--accent-fg-color":"#ffeedb"},vo={"--bg-color":"#4c3b4d","--fg-color":"#FCFCFC","--shade-color":"rgba(255, 255, 255, 0.1)","--font-color":"#EEEEEE","--accent-bg-color":"#F7567C","--accent-fg-color":"#EEEEEE"},ze={light:go,sepia:mo,dark:vo};function yo(e){Object.entries(ze[e]||ze[an]).forEach(([t,n])=>{document.documentElement.style.setProperty(t,n)})}const ne={System:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',"Fira Sans":'"Fira Sans", sans-serif',Lora:'"Lora", serif',Merriweather:'"Merriweather", serif',OpenDyslexic:'"OpenDyslexic", serif'};function bo(e){document.documentElement.style.setProperty("--font-game",ne[e]||ne[ln])}async function ko(e,t){if(e&&!document.fullscreenElement)try{await document.documentElement.requestFullscreen()}catch{t(!1)}else document.fullscreenElement&&document.exitFullscreen&&document.exitFullscreen()}function wo(e,t){ko(e,t)}function $o(e){e.settings.defineHandler("theme",(t,n)=>{yo(n)}),e.settings.defineHandler("font",(t,n)=>{bo(n)}),e.settings.defineHandler("animation",(t,n)=>{n?document.documentElement.style.removeProperty("--animation-disabled"):document.documentElement.style.setProperty("--animation-disabled","0s")}),e.settings.defineHandler("fullscreen",(t,n)=>{wo(n,o=>{e.settings.set("fullscreen",o),e.settings.save()})})}function Eo(e){e.images=[],e.content=e.content.map(t=>(t.tags.IMAGE&&(e.images.push(t.tags.IMAGE),t.image=t.tags.IMAGE),t))}function So(e){e.choices=e.choices.map(t=>((t.tags.UNCLICKABLE||t.tags.DISABLED||t.tags.INACTIVE)&&(t.disabled=!0),t))}function xo(e){[Eo,So].forEach(t=>e.game.defineSceneProcessor(t))}function Co(e){e.ink.story().onError=t=>{e.state.setKey("ERROR",t)},e.state.setKey("OVERLAY",{activeOverlay:null,content:""})}async function Po(e,t){e.on("*",(n,o)=>console.log(`%c Atrament > ${n} `,"color: #111111; background-color: #7FDBFF;",o)),$o(e),await e.init(t,{applicationID:ao,settings:{fullscreen:!1,animation:!0,mute:!1,volume:50,fontSize:100}}),e.on("game/start",()=>Co(e)),fo(e.game.getAssetPath),await e.game.init(sn,cn),await e.game.initInkStory(),ho(e),po(e),xo(e),uo(e),_o(e)}const Lo="_application_wrapper_1q2ul_1",Ao={application_wrapper:Lo};let Ee;function _n(){window.innerHeight!==Ee&&(Ee=window.innerHeight,document.documentElement.style.setProperty("--screen-vh",`${Ee-1}px`))}window.addEventListener("resize",_n);const xt=({children:e})=>(T(_n,[]),c("div",{class:[Ao.application_wrapper,"atrament-ui-app"].join(" "),children:e})),To="_loading_51k52_1",Oo={loading:To},Io="_container_1jyh0_1",jo={container:Io},we=({children:e})=>c("div",{class:[jo.container,"atrament-container"].join(" "),children:e}),Ro="_container_flex_i1hvv_1",Fo={container_flex:Ro},Xe=({children:e})=>c("div",{class:[Fo.container_flex,"atrament-flex-container"].join(" "),children:e}),Ho="_sk_cube_grid_fv0g6_1",Vo="_sk_cube1_fv0g6_17",Mo="_sk_cube2_fv0g6_18",Do="_sk_cube3_fv0g6_19",zo="_sk_cube4_fv0g6_20",Uo="_sk_cube5_fv0g6_21",Bo="_sk_cube6_fv0g6_22",Wo="_sk_cube7_fv0g6_23",No="_sk_cube8_fv0g6_24",qo="_sk_cube9_fv0g6_25",j={sk_cube_grid:Ho,"sk-cubeGridScaleDelay":"_sk-cubeGridScaleDelay_fv0g6_1",sk_cube1:Vo,sk_cube2:Mo,sk_cube3:Do,sk_cube4:zo,sk_cube5:Uo,sk_cube6:Bo,sk_cube7:Wo,sk_cube8:No,sk_cube9:qo},Yo=()=>c("div",{class:j.sk_cube_grid,children:[c("div",{class:j.sk_cube1}),c("div",{class:j.sk_cube2}),c("div",{class:j.sk_cube3}),c("div",{class:j.sk_cube4}),c("div",{class:j.sk_cube5}),c("div",{class:j.sk_cube6}),c("div",{class:j.sk_cube7}),c("div",{class:j.sk_cube8}),c("div",{class:j.sk_cube9})]}),Go=()=>c(we,{children:c(Xe,{children:c("div",{class:[Oo.loading,"atrament-loading"].join(" "),children:c(Yo,{})})})});function Ko(e,t,n){let o=new Set([...t,void 0]);return e.listen((r,i,s)=>{o.has(s)&&n(r,i,s)})}function Xo(e,t={}){let[,n]=I({}),[o]=I(e.get());return T(()=>{o!==e.get()&&n({})},[]),T(()=>{let r,i,s,l=()=>{r||(r=1,i=setTimeout(()=>{r=void 0,n({})}))};return t.keys?s=Ko(e,t.keys,l):s=e.listen(l),()=>{s(),clearTimeout(i)}},[e,""+t.keys]),e.get()}const x=()=>{const e=qe(rn),t=Xo(e.store);return{atrament:e,state:t,canResume:e.game.canResume,gameStart:e.game.start,gameResume:e.game.resume,makeChoice:e.game.makeChoice,continueStory:e.game.continueStory,updateSettings:(n,o)=>{e.settings.set(n,o),e.settings.save()}}},Jo="_block_mlskr_1",Qo="_block_start_mlskr_11",Zo="_block_end_mlskr_19",Se={block:Jo,block_start:Qo,block_end:Zo},me=({children:e,align:t})=>{const n=[Se.block];return t==="start"?n.push(Se.block_start):t==="end"&&n.push(Se.block_end),n.push("atrament-block"),c("div",{class:n.join(" "),children:e})},er="_header_156ie_1",tr="_header_align_156ie_9",Ct={header:er,header_align:tr},nr=({children:e})=>c("div",{class:[Ct.header,"atrament-header"].join(" "),children:c("div",{class:Ct.header_align,children:e})}),or="_link_menu_1yqgf_1",rr={link_menu:or},he=({children:e,key:t,onClick:n})=>c("div",{children:c("button",{onClick:n,class:rr.link_menu,children:e},t)}),ir="_settings_container_duzz0_1",sr="_settings_toggle_duzz0_23",Pt={settings_container:ir,settings_toggle:sr},cr="_backdrop_p5ss5_1",ar={backdrop:cr},dn=({onClick:e})=>c("div",{class:[ar.backdrop,"atrament-backdrop"].join(" "),onClick:e}),lr="_modal_o1n5t_1",ur={modal:lr},fn=({children:e})=>c("div",{class:[ur.modal,"atrament-modal"].join(" "),children:e}),_r="_close_1r16k_1",dr={close:_r},hn=({onClick:e})=>c("div",{class:dr.close,children:c("button",{onClick:e,title:"Close",children:"✕"})}),fr="_checkbox_wrapper_jogcq_1",hr="_checkbox_jogcq_1",Lt={checkbox_wrapper:fr,checkbox:hr,"focus-visible":"_focus-visible_jogcq_111"},Je=({enabled:e,onChange:t})=>c("div",{class:Lt.checkbox_wrapper,children:c("input",{type:"checkbox",class:Lt.checkbox,checked:e,onChange:t})}),pr=()=>{const{state:e,updateSettings:t}=x(),n=o=>t("fullscreen",o.target.checked);return c("div",{class:["atrament-settings-fullscreen"].join(" "),children:[c(Je,{enabled:e.settings.fullscreen,onChange:n})," ",c(R,{id:"settings.fullscreen"})]})},gr="_settings_sound_container_1ksau_1",mr="_settings_sound_input_container_1ksau_11",vr="_settings_sound_volume_1ksau_19",yr="_settings_sound_icon_1ksau_33",W={settings_sound_container:gr,settings_sound_input_container:mr,settings_sound_volume:vr,settings_sound_icon:yr},br=()=>{const{state:e,updateSettings:t}=x(),n=s=>t("mute",!s.target.checked),o=s=>t("volume",s.target.value),{mute:r,volume:i}=e.settings;return c(H,{children:[c("div",{class:[W.settings_sound,"atrament-settings-sound"].join(" "),children:[c(Je,{enabled:!r,onChange:n})," ",c(R,{id:"settings.sound"})]}),c("div",{class:W.settings_sound_container,children:[c("div",{class:W.settings_sound_icon,children:"🔉"}),c("div",{class:W.settings_sound_input_container,children:c("input",{class:W.settings_sound_volume,disabled:r,type:"range",min:"0",max:"100",value:i,onChange:o})}),c("div",{class:W.settings_sound_icon,children:"🔊"})]})]})},kr="_settings_fontsize_container_ov9gn_1",wr="_settings_font_a_ov9gn_11",$r="_settings_fontsize_input_container_ov9gn_23",Er="_settings_fontsize_input_ov9gn_23",Sr="_settings_font_sample_ov9gn_43",D={settings_fontsize_container:kr,settings_font_a:wr,settings_fontsize_input_container:$r,settings_fontsize_input:Er,settings_font_sample:Sr},pn=[];for(let e=Ve;e<=Me;e+=ke)pn.push(e);const xr=()=>{const{state:e,updateSettings:t}=x(),{font:n,fontSize:o}=e.settings,r=i=>t("fontSize",i.target.value);return c("div",{class:[D.settings_text,"atrament-settings-text"].join(" "),children:[c("div",{class:D.settings_fontsize_container,children:[c("div",{class:D.settings_font_a,style:{"font-size":`${Ve}%`},children:"A"}),c("div",{class:D.settings_fontsize_input_container,children:[c("input",{class:D.settings_fontsize_input,type:"range",min:Ve,max:Me,step:ke,value:o||Ke,onInput:r,list:"fontSizes"}),c("datalist",{id:"fontSizes",children:pn.map(i=>c("option",{value:i},i))})]}),c("div",{class:D.settings_font_a,style:{"font-size":`${Me}%`},children:"A"})]}),c("div",{class:D.settings_font_sample,style:{"font-size":`${o}%`,"font-family":ne[n]},children:c(R,{id:"font.sampleText"})})]})},Cr="_settings_font_container_19hqe_1",Pr={settings_font_container:Cr},Lr=()=>{const{state:e,updateSettings:t}=x(),n=r=>t("font",r.target.value),o=e.settings.font;return c("div",{class:[Pr.settings_font_container,"atrament-settings-font"].join(" "),children:c("select",{onChange:n,style:{"font-family":ne[o]},children:Object.entries(ne).map(([r,i])=>c("option",{value:r,style:{"font-family":i},selected:o===r,children:r},r))})})},Ar="_settings_theme_container_mkiko_1",Tr="_settings_theme_button_mkiko_13",gn={settings_theme_container:Ar,settings_theme_button:Tr},Or=({themeId:e,themeConfig:t,onClick:n})=>{const o={color:t["--fg-color"],"background-color":t["--bg-color"]};return c("button",{class:gn.settings_theme_button,style:o,onClick:n,"data-theme-id":e,children:c(R,{id:`themes.${e}`,defaultMessage:e})})},Ir=()=>{const{updateSettings:e}=x(),t=n=>e("theme",n.target.attributes["data-theme-id"].value);return c("div",{class:[gn.settings_theme_container,"atrament-settings-theme"].join(" "),children:Object.entries(ze).map(([n,o])=>c(Or,{themeId:n,themeConfig:o,onClick:t},n))})},jr=()=>{const{state:e,updateSettings:t}=x(),n=o=>t("animation",o.target.checked);return c("div",{class:["atrament-settings-animation"].join(" "),children:[c(Je,{enabled:e.settings.animation,onChange:n})," ",c(R,{id:"settings.animations"})]})},Rr="_settings_about_1owsm_1",Fr={settings_about:Rr},Hr=()=>{const{atrament:e}=x();return c("div",{class:Fr.settings_about,children:["atrament ",e.version]})},Qe=()=>{const[e,t]=I(!1),n=O(()=>t(!e),[e]),o=O(r=>{r.key==="Escape"&&n()},[n]);return T(()=>(document.addEventListener("keydown",o,!1),()=>{document.removeEventListener("keydown",o,!1)}),[o]),e?c("div",{class:Pt.settings_container,children:[c(dn,{onClick:n}),c(fn,{children:[c(hn,{onClick:n}),c(pr,{}),c(jr,{}),c(br,{}),c(Lr,{}),c(xr,{}),c(Ir,{}),c(Hr,{})]})]}):c("button",{class:Pt.settings_toggle,onClick:n,children:"☰"})},Vr=()=>{const e=on(),{state:t,canResume:n,gameStart:o,gameResume:r}=x(),{title:i,author:s}=t.metadata,[l,u]=I(!1);T(()=>{(async()=>{const d=await n();u(!!d)})()},[n]);const _=O(async()=>{await o(),q("/game")},[o]),f=O(async()=>{await r(),q("/game")},[r]),a=()=>q("/about");return c(we,{children:c(Xe,{children:[c(Qe,{}),c(nr,{children:[c("h1",{children:i||e.translate("default.title")}),c("p",{children:s||e.translate("default.author")})]}),c(me,{align:"end",children:[l?c(he,{onClick:f,children:c(R,{id:"main.continue"})},"continuegame"):"",c(he,{onClick:_,children:c(R,{id:"main.newgame"})},"startgame"),c(he,{onClick:a,children:c(R,{id:"main.about"})},"about")]})]})})},Mr="_error_modal_2c370_1",Dr="_error_message_2c370_12",At={error_modal:Mr,error_message:Dr},zr=()=>{const{atrament:e,state:t}=x(),n=O(()=>e.state.setKey("ERROR",null),[e]),o=O(r=>{r.key==="Escape"&&n()},[n]);if(T(()=>(document.addEventListener("keydown",o,!1),()=>{document.removeEventListener("keydown",o,!1)}),[o]),t.ERROR)return c("div",{class:At.error_modal,children:[c(dn,{onClick:n}),c(fn,{children:[c(hn,{onClick:n}),c("p",{class:At.error_message,children:t.ERROR})]})]})},Ur="_toolbar_1mhcy_1",Br={toolbar:Ur},Wr="_inline_button_16ghm_1",Nr="_bordered_button_16ghm_20",Tt={inline_button:Wr,bordered_button:Nr};function ie(e){const t=e.match(/(\w+)=["']?((?:.?(?!["']?\s+(?:\S+)=|\s*\/?[>"']))+.)["']?/g),n={};return t&&t.forEach(o=>{const[,r,i]=o.match(/(.+)=(.+)/);try{n[r]=JSON.parse(i)}catch{n[r]=i}}),n}function Ot(e,t){let n;try{n=e.ink.evaluateFunction(t,[],!0)}catch(o){e.ink.story().onError(o.toString())}return n}function It(e,t,n){e.state.setSubkey("OVERLAY","activeOverlay",t);let o=n;const r=n.split(`
`),s=r.shift().match(/\[title\](.+?)\[\/title\]/i);s&&(e.state.setSubkey("OVERLAY","title",s[1]),o=r.join(`
`)),e.state.setSubkey("OVERLAY","content",o)}const qr=({children:e,options:t})=>{const{atrament:n,state:o}=x(),r=O(()=>{const s=Ot(n,t.onclick);if(s.output)It(n,t.onclick,s.output);else{const l=o.OVERLAY.activeOverlay;if(l){const u=Ot(n,l);It(n,l,u.output)}}},[n,t.onclick,o]);let i=t.bordered===!1?Tt.inline_button:Tt.bordered_button;return c("button",{class:i,onClick:r,disabled:t.disabled,children:e})},Yr={regexp:/\[button.+?\].+?\[\/button\]/ig,replacer:(e,t)=>{const n=e.match(/\[button(.+?)\](.+?)\[\/button\]/i);let o=n[1];o.startsWith("=")&&(o=`onclick${o}`);const r=ie(o);return c(qr,{options:r,children:t(n[2])})}},Gr="_inline_image_i0e0w_1",Kr={inline_image:Gr},Xr={regexp:/\[img\].+?\[\/img\]/ig,replacer:e=>{const t=e.match(/\[img\](.+?)\[\/img\]/i);return c("img",{class:Kr.inline_image,src:De(t[1])})}},Jr="_inline_link_11pb8_1",Qr={inline_link:Jr},Zr=({children:e,choice:t})=>{const{atrament:n,state:o,makeChoice:r,continueStory:i}=x(),s=O(()=>{const l=o.scenes.length-1,_=o.scenes[l].choices.findIndex(f=>f.choice===t);if(_<0){n.state.setKey("ERROR",`[link=${t}] leads to nonexistent choice!`);return}r(_),i()},[n,i,r,t,o]);return c("a",{href:"#",class:Qr.inline_link,onClick:s,children:e})},ei={regexp:/\[link=.+?\].+?\[\/link\]/ig,replacer:(e,t)=>{const n=e.match(/\[link=(.+?)\](.+?)\[\/link\]/i);return c(Zr,{choice:n[1],children:t(n[2])})}},ti="_progress_frame_no3b0_1",ni="_progress_bar_no3b0_7",oi="_standard_no3b0_14",ri="_accent_no3b0_18",ii="_progress_content_no3b0_22",K={progress_frame:ti,progress_bar:ni,standard:oi,accent:ri,progress_content:ii},si=({options:e,children:t})=>{const n=+e.min||0,o=+e.max||100,r=+e.value||0;let i=r?(r-n)*100/(o-n):0;i>100&&(i=100),i<0&&(i=0);const s=[K.progress_bar];return e.style==="accent"?s.push(K.accent):s.push(K.standard),c("div",{class:K.progress_frame,children:[c("div",{class:s.join(" "),style:{width:`${i}%`}}),c("div",{class:K.progress_content,children:[t," "]})]})},ci={regexp:/\[progress.+?\].*?\[\/progress\]/ig,replacer:(e,t)=>{const n=e.match(/\[progress(.+?)\](.*?)\[\/progress\]/i),o=ie(n[1]);return c(si,{options:o,children:t(n[2])})}},ai="_input_19eau_1",li={input:ai};function ui(e,t,n){try{e.ink.setVariable(t,n)}catch(o){e.ink.story().onError(o.toString())}}function _i(e,t){let n;try{n=e.ink.getVariable(t)}catch(o){e.ink.story().onError(o.toString())}return n}const di=({inactive:e,options:t})=>{const[n,o]=I(null),{atrament:r}=x();T(()=>o(_i(r,t.var)),[r,t.var]);const i=l=>{let u=l.srcElement.value||n;t.type==="number"&&(u=+u),ui(r,t.var,u),o(u)},s=t.type==="number"?"number":"text";return c("input",{disabled:e,class:li.input,value:n,placeholder:t.placeholder,type:s,onInput:i})},fi={regexp:/\[input.+?\]/ig,replacer:(e,t,n)=>{const o=e.match(/\[input(.+?)\]/i),r=ie(o[1]);return c(di,{inactive:n,options:r})}},hi="_hidden_7ewnd_1",pi="_revealed_7ewnd_12",jt={hidden:hi,revealed:pi},gi=[jt.hidden,jt.revealed],mi=({children:e})=>{const[t,n]=I(0);return c("span",{class:gi[t],onClick:()=>n(1-t),children:c("span",{children:e})})},vi={regexp:/\[spoiler\].*?\[\/spoiler\]/ig,replacer:(e,t)=>{const n=e.match(/\[spoiler\](.*?)\[\/spoiler\]/i);return c(mi,{children:t(n[1])})}},yi="_infoblock_2r1kp_1",bi="_font_ui_2r1kp_9",ki="_side_highlight_2r1kp_13",wi="_side_accent_2r1kp_17",le={infoblock:yi,font_ui:bi,side_highlight:ki,side_accent:wi},$i=({children:e,options:t})=>{const n=[le.infoblock];return t.font==="system"&&n.push(le.font_ui),t.side&&(t.side==="accent"?n.push(le.side_accent):n.push(le.side_highlight)),c("div",{class:n.join(" "),children:e})},Ei={regexp:/\[info.*?\].*?\[\/info\]/ig,replacer:(e,t)=>{const n=e.match(/\[info(.*?)\](.*?)\[\/info\]/i),o=ie(n[1]);return c($i,{options:o,children:t(n[2])})}},Si="_bannerblock_1iggy_1",xi="_accent_1iggy_11",Ci="_allcaps_1iggy_17",xe={bannerblock:Si,accent:xi,allcaps:Ci},Pi=({children:e,options:t})=>{const n=[xe.bannerblock];return t.style==="accent"&&n.push(xe.accent),t.allcaps&&n.push(xe.allcaps),c("div",{class:n.join(" "),children:e})},Li={regexp:/\[banner.*?\].*?\[\/banner\]/ig,replacer:(e,t)=>{const n=e.match(/\[banner(.*?)\](.*?)\[\/banner\]/i),o=ie(n[1]);return c(Pi,{options:o,children:t(n[2])})}},Ai=[Yr,Xr,ei,ci,fi,vi,Ei,Li],Ti=e=>/<\/?[a-z][\s\S]*>/i.test(e);function Oi(e,t,n,o){let r=e;if(typeof e!="string")return r;const i=e.split(t),s=e.match(t);return s&&(r=i.flatMap((l,u)=>u<s.length?[l,n(s[u],_=>se(_,o),o)]:[l])),r}function se(e,t){let n=[e];return Ai.forEach(o=>{n=n.flatMap(r=>Oi(r,o.regexp,o.replacer,t))}),n.filter(o=>o).map((o,r)=>typeof o=="string"&&Ti(o)?c("span",{dangerouslySetInnerHTML:{__html:o}},r):o)}const Ii=()=>{const e=on(),{atrament:t,state:n}=x(),[o,r]=I(!1);let i=n.metadata.title||e.translate("default.title");if(n.metadata.toolbar&&!o)try{const l=t.ink.evaluateFunction(n.metadata.toolbar,[],!0);l.output&&(i=l.output)}catch(l){t.ink.story().onError(l.toString()),r(!0)}const s=se(i);return c("div",{class:[Br.toolbar,"atrament-toolbar"].join(" "),children:s})},ji="_container_text_1k7f2_1",Ri={container_text:ji},Ze=({children:e,fontSize:t})=>c("div",{class:[Ri.container_text,"atrament-text-container"].join(" "),style:{"font-size":`${t}%`},children:e}),Fi="_container_scenes_h7ajh_1",Hi={container_scenes:Fi},Vi=e=>({top:"start",start:"start",middle:"center",bottom:"end",end:"end"})[e]||"center",Mi=({children:e,align:t})=>c("div",{class:[Hi.container_scenes,"atrament-container-scene"].join(" "),style:{"justify-content":Vi(t)},children:e}),Di="_container_choices_z7cmv_1",zi={container_choices:Di},Ui=({children:e,key:t,isReady:n})=>c("div",{class:[zi.container_choices,"atrament-container-choices",n?"animation_appear":""].join(" "),children:c("div",{style:{opacity:n?1:0},children:c(me,{children:e})})},t),Bi="_scene_14av0_1",Wi={scene:Bi},mn=e=>e===void 0||e==="auto"||e==="instant"||e==="smooth";function Ni(e,t){this.scrollLeft=e,this.scrollTop=t}const vn=(e,t,n="cannot convert to dictionary.")=>`Failed to execute '${e}' on '${t}': ${n}`,yn=(e,t,n)=>vn(e,t,`The provided value '${n}' is not a valid enum value of type ScrollBehavior.`),Rt=(e,t,n)=>{var o;const r=`__SEAMLESS.BACKUP$${t}`;return!e[r]&&e[t]&&!(!((o=e[t])===null||o===void 0)&&o.__isPolyfill)&&(e[r]=e[t]),e[r]||n},qi=e=>{const t=typeof e;return e!==null&&(t==="object"||t==="function")},et=e=>e.ownerDocument.scrollingElement||e.ownerDocument.documentElement;function Yi(e){if(typeof Event=="function")return new Event("scrollend",{bubbles:e,cancelable:!1});const t=document.createEvent("Event");return t.initEvent("scrollend",e,!1),t}const Gi=e=>.5*(1-Math.cos(Math.PI*e));function tt(){var e;let t;return!((e=window.performance)===null||e===void 0)&&e.now?t=()=>window.performance.now():t=()=>window.Date.now(),tt=t,t()}const Ki=500,bn=e=>{const n=(tt()-e.timeStamp)/(e.duration||Ki);if(n>1){e.method(e.targetX,e.targetY),e.callback();return}const o=(e.timingFunc||Gi)(n),r=e.startX+(e.targetX-e.startX)*o,i=e.startY+(e.targetY-e.startY)*o;e.method(r,i),e.rafId=window.requestAnimationFrame(()=>{bn(e)})},ve=e=>isFinite(e)?Number(e):0,Xi=e=>{var t;return(t=e.isConnected)!==null&&t!==void 0?t:!e.ownerDocument||!(e.ownerDocument.compareDocumentPosition(e)&1)},Ji=(e,t,n)=>{var o,r;if(!Xi(e))return;const i=e.scrollLeft,s=e.scrollTop,l=ve((o=t.left)!==null&&o!==void 0?o:i),u=ve((r=t.top)!==null&&r!==void 0?r:s);if(l===i&&u===s)return;const _=Rt(HTMLElement.prototype,"scroll",Ni),f=Rt(Object.getPrototypeOf(e),"scroll",_).bind(e);if(t.behavior!=="smooth"){f(l,u);return}const a=()=>{window.removeEventListener("wheel",h),window.removeEventListener("touchmove",h)},p=()=>{a();const k=e.nodeType===9;e.dispatchEvent(Yi(k))},d=Object.assign(Object.assign({},n),{timeStamp:tt(),startX:i,startY:s,targetX:l,targetY:u,rafId:0,method:f,callback:p}),h=()=>{window.cancelAnimationFrame(d.rafId),a()};window.addEventListener("wheel",h,{passive:!0,once:!0}),window.addEventListener("touchmove",h,{passive:!0,once:!0}),bn(d)},Qi=e=>e.window===e,Zi=e=>(t,n,o)=>{const[r,i]=Qi(t)?[et(t.document.documentElement),"Window"]:[t,"Element"],s=n??{};if(!qi(s))throw new TypeError(vn(e,i));if(!mn(s.behavior))throw new TypeError(yn(e,i,s.behavior));e==="scrollBy"&&(s.left=ve(s.left)+r.scrollLeft,s.top=ve(s.top)+r.scrollTop),Ji(r,s,o)},es=Zi("scroll"),ts=es,kn=e=>{switch(e){case"horizontal-tb":case"lr":case"lr-tb":case"rl":case"rl-tb":return 0;case"vertical-rl":case"tb":case"tb-rl":return 1;case"vertical-lr":case"tb-lr":return 2;case"sideways-rl":return 3;case"sideways-lr":return 4}return 0},wn=(e,t,n,o)=>{let r=0;switch(t||(r^=2),e){case 0:r=r>>1|(r&1)<<1,[n,o]=[o,n];break;case 1:case 3:r^=1;break;case 4:r^=2;break}return[r,n,o]},ns=e=>(wn(kn(e.writingMode),e.direction!=="rtl",void 0,void 0)[0]&1)===1,os=(e,t,n)=>{const[o,r,i]=wn(t,n,e.block||"start",e.inline||"nearest");return[r,i].map((s,l)=>{switch(s){case"center":return 1;case"nearest":return 0;default:{const u=o>>l&1;return s==="start"==!u?2:3}}})},Ft=(e,t,n,o,r,i,s)=>e!==0?e:r<t&&i>n||r>t&&i<n?null:r<=t&&s<=o||i>=n&&s>=o?2:i>n&&s<o||r<t&&s>o?3:null,Ht=e=>e!=="visible"&&e!=="clip",rs=e=>{var t;try{return((t=e.ownerDocument.defaultView)===null||t===void 0?void 0:t.frameElement)||null}catch{return null}},is=(e,t)=>e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth?Ht(t.overflowY)||Ht(t.overflowX)||e===et(e):!1,Vt=e=>{const t=e.parentNode,n=e.parentElement;if(n===null&&t!==null){if(t.nodeType===11)return t.host;if(t.nodeType===9)return rs(e)}return n},Ce=(e,t,n)=>e<t?t:e>n?n:e,ss=e=>["scroll-margin","scroll-snap-margin"].filter(t=>t in e.documentElement.style)[0],cs=(e,t,n)=>{const{top:o,right:r,bottom:i,left:s}=t,l=ss(e.ownerDocument);if(!l)return[o,r,i,s];const u=_=>{const f=n.getPropertyValue(`${l}-${_}`);return parseInt(f,10)||0};return[o-u("top"),r+u("right"),i+u("bottom"),s-u("left")]},ue=(e,t,n)=>{switch(e){case 1:return(t+n)/2;case 3:return n;case 2:case 0:return t}},as=(e,t)=>{var n,o,r;const i=(n=e.ownerDocument.defaultView)===null||n===void 0?void 0:n.visualViewport,[s,l,u,_]=e===et(e)?[0,0,(o=i==null?void 0:i.width)!==null&&o!==void 0?o:e.clientWidth,(r=i==null?void 0:i.height)!==null&&r!==void 0?r:e.clientHeight]:[t.left,t.top,e.clientWidth,e.clientHeight],f=s+e.clientLeft,a=l+e.clientTop,p=f+u,d=a+_;return[a,p,d,f]},ls=(e,t)=>{const n=[];let o=e.ownerDocument,r=o.defaultView;if(!r)return n;const i=window.getComputedStyle(e),s=i.direction!=="rtl",l=kn(i.writingMode||i.getPropertyValue("-webkit-writing-mode")||i.getPropertyValue("-ms-writing-mode")),[u,_]=os(t,l,s);let[f,a,p,d]=cs(e,e.getBoundingClientRect(),i);for(let h=Vt(e);h!==null;h=Vt(h)){if(o!==h.ownerDocument){if(o=h.ownerDocument,r=o.defaultView,!r)break;const{left:nt,top:ot}=h.getBoundingClientRect();f+=ot,a+=nt,p+=ot,d+=nt}const k=r.getComputedStyle(h);if(k.position==="fixed")break;if(!is(h,k))continue;const y=h.getBoundingClientRect(),[m,w,g,v]=as(h,y),E=Ft(u,v,w,h.clientWidth,d,a,a-d),C=Ft(_,m,g,h.clientHeight,f,p,p-f),L=E===null?0:ue(E,d,a)-ue(E,v,w),G=C===null?0:ue(C,f,p)-ue(C,m,g),P=ns(k)?Ce(L,-h.scrollWidth+h.clientWidth-h.scrollLeft,-h.scrollLeft):Ce(L,-h.scrollLeft,h.scrollWidth-h.clientWidth-h.scrollLeft),V=Ce(G,-h.scrollTop,h.scrollHeight-h.clientHeight-h.scrollTop);n.push([h,{left:h.scrollLeft+P,top:h.scrollTop+V,behavior:t.behavior}]),f=Math.max(f-V,m),a=Math.min(a-P,w),p=Math.min(p-V,g),d=Math.max(d-P,v)}return n},us=(e,t,n)=>{const o=t||{};if(!mn(o.behavior))throw new TypeError(yn("scrollIntoView","Element",o.behavior));ls(e,o).forEach(([i,s])=>{ts(i,s,n)})},_s="_imagebox_vcpgt_1",ds="_image_vcpgt_1",Mt={imagebox:_s,image:ds},fs=({src:e})=>e?c("div",{class:[Mt.imagebox,"atrament-image-container"].join(" "),children:c("img",{src:e,class:[Mt.image,"atrament-image"].join(" ")})}):"",hs=({content:e,isCurrent:t})=>{let n;return t||(n={opacity:"70%"}),e===`
`?"":c("p",{style:n,children:se(e,!t)})};function ps(e,t){const n=[];for(let o of t)n.push(new Promise(r=>{const i=new Image;i.onload=r,i.onerror=r,i.src=e(o)}));return Promise.allSettled(n)}const gs=({scene:e,isCurrent:t,isSingle:n,readyHandler:o})=>{const[r,i]=I(!1),s=jn(null),l=O(u=>{o(!0),setTimeout(()=>{us(s.current,{behavior:u,block:"start"},{duration:300})},100)},[o]);return T(()=>{r&&t&&l(n?"instant":"smooth")},[r,t,n,l]),T(()=>{(async()=>{await ps(De,e.images),i(!0)})()},[e,i]),c("div",{class:[Wi.scene,"atrament-scene",t&&r?"animation_appear":""].join(" "),ref:s,children:c("div",{style:{opacity:r?1:0},children:e.content.map((u,_)=>c(H,{children:[u.image&&c(fs,{src:De(u.image)}),c(hs,{isCurrent:t,content:u.text})]},`paragraph-${e.uuid}-${_}`))})})},ms="_link_home_6qsrz_1",vs={link_home:ms},ys=({children:e,onClick:t})=>c("button",{onClick:t,class:vs.link_home,children:e},"mainmenu"),bs="_choice_button_fzzhu_1",ks="_choice_active_fzzhu_39",ws="_choice_inactive_fzzhu_87",$s="_disappear_fzzhu_1",Pe={choice_button:bs,choice_active:ks,choice_inactive:ws,disappear:$s},Es=({choice:e,chosen:t,handleClick:n})=>{const o=t!==null,r=t===e.id,i=()=>{o||n(e.id)};return c("button",{class:`${Pe.choice_button} ${o?r?Pe.choice_active:Pe.choice_inactive:""}`,onClick:i,disabled:e.disabled,children:se(e.choice)})},Ss=({key:e,currentScene:t,setReady:n})=>{const{makeChoice:o,continueStory:r}=x(),[i,s]=I(null),l=t&&t.choices?t.choices.length:-1,u=O(f=>{const a=l>1?350:150;s(f),setTimeout(()=>{setTimeout(()=>{s(null),n(!1),o(f),r()},a)},0)},[o,r,n,l]),_=O(f=>{const a=+f.key;f.target.tagName.toLowerCase()!=="input"&&l>0&&a>0&&a<=l&&!t.choices[a-1].disabled&&u(a-1)},[l,u,t.choices]);return T(()=>(document.addEventListener("keydown",_,!1),()=>{document.removeEventListener("keydown",_,!1)}),[_]),c(H,{children:t.choices.map((f,a)=>c(Es,{choice:f,chosen:i,handleClick:u},`${e}-${a}`))})},xs=()=>{const{atrament:e}=x();return c(ys,{onClick:async()=>{await e.game.removeSave(),q("/")},children:c(R,{id:"game.end"})})},Cs=({key:e,currentScene:t,setReady:n,isHypertextMode:o})=>{const r=t&&t.choices?t.choices.length:-1;if(r===0)return c(xs,{});if(r>=0&&!o)return c(Ss,{currentScene:t,setReady:n},e)},Ps=()=>{var s;const{state:e}=x(),[t,n]=I(!1),o=e.scenes.length-1,r=!!e.metadata.hypertext,i=`choices-${(s=e.scenes[o])==null?void 0:s.uuid}`;return c(Ze,{fontSize:e.settings.fontSize,children:[c(Mi,{align:e.metadata.scenes_align,children:e.scenes.map((l,u)=>c(gs,{scene:l,isCurrent:u===o,isSingle:o===0,readyHandler:n},l.uuid))}),c(Ui,{isReady:t,children:c(Cs,{currentScene:e.scenes[o],setReady:n,isHypertextMode:r},i)},i)]})},Ls="_overlay_container_q2jj8_1",As="_overlay_header_q2jj8_21",Ts="_overlay_title_q2jj8_49",Os="_overlay_content_q2jj8_61",Is="_button_back_q2jj8_91",X={overlay_container:Ls,overlay_header:As,overlay_title:Ts,overlay_content:Os,button_back:Is},js=()=>{const{atrament:e,state:t}=x(),n=O(()=>{e.state.setSubkey("OVERLAY","activeOverlay",null),e.state.setSubkey("OVERLAY","content","")},[e]);if(!t.OVERLAY.activeOverlay)return c(H,{});const o=t.OVERLAY.content.split(`
`),r=t.OVERLAY.title;return c("div",{class:X.overlay_container,children:[c("div",{class:X.overlay_header,children:[c("button",{class:X.button_back,onClick:n,children:"❮"}),r&&c("div",{class:X.overlay_title,children:r})]}),c("div",{class:[X.overlay_content,"atrament-overlay"].join(" "),children:c(Ze,{fontSize:t.settings.fontSize,children:o.map((i,s)=>c("p",{children:se(i)},s))})})]})},Rs=()=>{const{continueStory:e}=x();return T(()=>{e()},[e]),c(we,{children:[c(Qe,{}),c(zr,{}),c(Ii,{}),c(js,{}),c(Ps,{})]})},Fs=()=>{const{state:e}=x(),t=()=>q("/");return c(we,{children:[c(Qe,{}),c(Ze,{fontSize:e.settings.fontSize,children:[c(Xe,{children:c(me,{children:[c("img",{src:"logo.png",style:{margin:"auto",display:"block",width:"50%"}}),c("h1",{style:{"text-align":"center"},children:"Atrament UI"}),c("p",{children:"Web UI for Ink games, made with:"}),c("ul",{children:[c("li",{children:c("a",{href:"https://github.com/technix/atrament-core",target:"_blank",rel:"noreferrer",children:"Atrament"})}),c("li",{children:c("a",{href:"https://github.com/y-lohse/inkjs",target:"_blank",rel:"noreferrer",children:"InkJS"})}),c("li",{children:c("a",{href:"https://preactjs.com/",target:"_blank",rel:"noreferrer",children:"Preact"})}),c("li",{children:c("a",{href:"https://howlerjs.com/",target:"_blank",rel:"noreferrer",children:"Howler"})}),c("li",{children:c("a",{href:"https://github.com/nanostores/nanostores",target:"_blank",rel:"noreferrer",children:"Nanostores"})}),c("li",{children:c("a",{href:"https://github.com/localForage/localForage",target:"_blank",rel:"noreferrer",children:"localForage"})}),c("li",{children:c("a",{href:"https://github.com/101arrowz/fflate",target:"_blank",rel:"noreferrer",children:"fflate"})})]})]})}),c(me,{children:c(he,{onClick:t,children:c(R,{id:"main.menu"})},"mainmenu")})]})]})},Hs=[{language:"en",messages:{"default.title":"Atrament UI","default.author":"Test Application","main.menu":"Main menu","main.newgame":"New game","main.continue":"Continue","main.about":"About","game.end":"The end","settings.fullscreen":"Fullscreen","settings.animations":"Animations","settings.sound":"Sound","themes.light":"light","themes.sepia":"sepia","themes.dark":"dark","font.sampleText":"The quick brown fox jumps over the lazy dog. Jackdaws love my big sphinx of quartz."}},{language:"ua",messages:{"default.title":"Atrament UI","default.author":"Тестовий застосунок","main.menu":"Головне меню","main.newgame":"Нова гра","main.continue":"Продовжити","main.about":"Про застосунок","game.end":"Кінець","settings.fullscreen":"На весь екран","settings.animations":"Анімації","settings.sound":"Звук","themes.light":"Світла","themes.sepia":"Сепія","themes.dark":"Темна","font.sampleText":"Хвацький юшковар Філіп щодня на ґанку готує сім'ї вечерю з жаб."}}];let _e;function Vs(){const[e,t]=I(!1);T(()=>{(async()=>{_e=(await at(()=>import("./index-DWLc5mFA.js"),[],import.meta.url)).default;const{Story:i}=await at(async()=>{const{Story:s}=await import("./ink-CADOJafZ.js");return{Story:s}},[],import.meta.url);await Po(_e,i),t(!0)})()},[]);const n=O(o=>{o.url==="/"&&o.previous&&_e.game.clear()},[]);return e?c(eo,{language:lo,locales:Hs,children:c(rn.Provider,{value:_e,children:c(xt,{children:c(tn,{history:Yn(),onChange:n,children:[c(Vr,{path:"/"}),c(Rs,{path:"/game"}),c(Fs,{path:"/about"})]})})})}):c(xt,{children:c(Go,{})})}Pn(c(Vs,{}),document.getElementById("app"));
